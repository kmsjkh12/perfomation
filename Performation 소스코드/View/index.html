<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" id="html">
<head id="head">
    <meta charset="UTF-8">
    <title>공연목록 서비스</title>
    <link rel="stylesheet" type="text/css" href="../static/css/bootstrap.min.css">
    <link rel="stylesheet" type="text/css" href="../static/css/font-awesome.css">
    <link rel="stylesheet" type="text/css" href="../static/css/index.css">
    <script src="../static/js/jquery.js"></script>
    <script src="../static/js/popper.min.js"></script>
    <script src="../static/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="../static/js/vue.min.js"></script>
    <script type="text/javascript" src="../static/js/axios.min.js"></script>
    <script type="text/javascript" src="../static/js/uiv.min.js"></script>
    <script type="text/javascript" src="../static/js/vue-router.js"></script>
    <script type="text/javascript" src="../static/js/jsQR.js"></script>
    <script src="../static/js/maps.js"></script>
    <link rel="preconnect" href="https://fonts.gstatic.com">                                      <!-- Lobster -->
    <link href="https://fonts.googleapis.com/css2?family=Lobster&display=swap" rel="stylesheet">  <!-- Lobster -->
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Do+Hyeon&display=swap" rel="stylesheet"> <!-- Do Hyeon -->
<!--    <script type="text/javascript" src="../static/js/cordova.js"></script>-->
<!--    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDKojS4nQ2I1bZkxtO2Yqu30RyyJPl4MjY&callback=initMap&libraries=&v=weekly" defer></script>-->
</head>
<!-- IJ 에 넣을 때 / app 에 넣을 때 -->
<body>
<button id="getPosition" style="position: relative; z-index: 50000; display: none;">CURRENT POSITION</button>
<div id="sse"></div>
<div id="scanner_box">
    <div id="loadingMessage">🎥 Unable to access video stream (please make sure you have a webcam enabled)</div>
    <canvas id="canvas" hidden></canvas>
    <div id="output" hidden>
        <div id="outputMessage">No QR code detected.</div>
        <div hidden><b>Data:</b> <span id="outputData"></span></div>
    </div>
</div>
<div id="app">
    <vue_alert content="로그인에 성공하셨습니다" id="vue_alert_login"></vue_alert>
    <vue_alert content="로그아웃에 성공하셨습니다" id="vue_alert_logout"></vue_alert>
    <vue_alert content="자동로그인에 성공하셨습니다" id="vue_alert_auto_login"></vue_alert>
    <vue_alert content="새로고침 했습니다." id="vue_alert_refresh"></vue_alert>
    <vue_alert content="포인트가 부족합니다." id="vue_alert_not_enough"></vue_alert>
    <vue_alert content="QR코드를 읽어주세요." id="vue_alert_codedata_error"></vue_alert>
    <vue_alert content="입장확인을 성공적으로 마쳤습니다." id="vue_alert_codedata_success"></vue_alert>
    <vue_alert content="성공적으로 삭제하였습니다." id="vue_alert_delete_review"></vue_alert>
    <vue_alert content="성공적으로 추가하였습니다." id="vue_alert_update_review"></vue_alert>
    <vue_alert content="성공적으로 즐겨찾기를 추가하였습니다." id="vue_alert_update_favorites"></vue_alert>
    <vue_alert content="성공적으로 즐겨찾기를 삭제하였습니다." id="vue_alert_delete_favorites"></vue_alert>
    <vue_alert content="회원가입에 성공하셨습니다." id="vue_alert_signin"></vue_alert>
    <div id="app_box">
<!--        <div id="map"></div>-->
        <div id="sidebar_dimmed" @click="click_sidebar_dimmed"></div>
        <div id="list" v-show="list_vshow">
            <div id="list_header">
                <p id="list_header_title" @click="location_href('main')">Performation</p>
                <p id="list_header_x" @click="vshow_list">
                    <svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-x" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                        <path fill-rule="evenodd" d="M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z"/>
                    </svg>
                </p>
            </div>
            <div id="list_login">
                <div v-if="username == ''">
                    <div id="list_login_v_if">
                        <p id="list_lgoin_v_if_p" @click="location_href('login')">로그인이 필요합니다.</p>
                    </div>
                </div>
                <div v-else>
                    <div id="list_login_v-else" v-model="userinfo">
                        <img @click="location_href('usersetting')" id="list_login_v-else_img" src="../static/img/default_circle_image.png"/>
                        <p id="list_login_v-else_p">{{username}}님 안녕하세요.</p>
                        <p id="list_login_point">포인트 {{userinfo.point}}p</p>
                        <div id="list_login_logout">
                            <button id="list_login_logout_button" @click="logout">로그아웃</button>
                        </div>
                    </div>
                </div>
            </div>

            <div id="list_body">
                <div id="list_body_div">
                    <div @click="location_href('usersetting')">
                        <svg style="display: block; position: relative; left: 25px;" width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-gear-fill" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                            <path fill-rule="evenodd" d="M9.405 1.05c-.413-1.4-2.397-1.4-2.81 0l-.1.34a1.464 1.464 0 0 1-2.105.872l-.31-.17c-1.283-.698-2.686.705-1.987 1.987l.169.311c.446.82.023 1.841-.872 2.105l-.34.1c-1.4.413-1.4 2.397 0 2.81l.34.1a1.464 1.464 0 0 1 .872 2.105l-.17.31c-.698 1.283.705 2.686 1.987 1.987l.311-.169a1.464 1.464 0 0 1 2.105.872l.1.34c.413 1.4 2.397 1.4 2.81 0l.1-.34a1.464 1.464 0 0 1 2.105-.872l.31.17c1.283.698 2.686-.705 1.987-1.987l-.169-.311a1.464 1.464 0 0 1 .872-2.105l.34-.1c1.4-.413 1.4-2.397 0-2.81l-.34-.1a1.464 1.464 0 0 1-.872-2.105l.17-.31c.698-1.283-.705-2.686-1.987-1.987l-.311.169a1.464 1.464 0 0 1-2.105-.872l-.1-.34zM8 10.93a2.929 2.929 0 1 0 0-5.86 2.929 2.929 0 0 0 0 5.858z"/>
                        </svg>
                        <p style="display: inline-block; font-size: 13px; width: 80px; text-align: center;">개인정보설정</p>
                    </div>
                    <div @click="location_href('favorites')">
                        <svg style="display: block; position: relative; left: 25px;" width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-bookmark-star-fill" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                            <path fill-rule="evenodd" d="M4 0a2 2 0 0 0-2 2v13.5a.5.5 0 0 0 .74.439L8 13.069l5.26 2.87A.5.5 0 0 0 14 15.5V2a2 2 0 0 0-2-2H4zm4.16 4.1a.178.178 0 0 0-.32 0l-.634 1.285a.178.178 0 0 1-.134.098l-1.42.206a.178.178 0 0 0-.098.303L6.58 6.993c.042.041.061.1.051.158L6.39 8.565a.178.178 0 0 0 .258.187l1.27-.668a.178.178 0 0 1 .165 0l1.27.668a.178.178 0 0 0 .257-.187L9.368 7.15a.178.178 0 0 1 .05-.158l1.028-1.001a.178.178 0 0 0-.098-.303l-1.42-.206a.178.178 0 0 1-.134-.098L8.16 4.1z"/>
                        </svg>
                        <p style="display: inline-block; font-size: 13px; width: 80px; text-align: center;">즐겨찾기</p>
                    </div>
                    <div @click="location_href('locker')">
                        <svg style="display: block; position: relative; left: 25px;" width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-archive-fill" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                            <path fill-rule="evenodd" d="M12.643 15C13.979 15 15 13.845 15 12.5V5H1v7.5C1 13.845 2.021 15 3.357 15h9.286zM5.5 7a.5.5 0 0 0 0 1h5a.5.5 0 0 0 0-1h-5zM.8 1a.8.8 0 0 0-.8.8V3a.8.8 0 0 0 .8.8h14.4A.8.8 0 0 0 16 3V1.8a.8.8 0 0 0-.8-.8H.8z"/>
                        </svg>
                        <p style="display: inline-block; font-size: 13px; width: 80px; text-align: center;">티켓보관함</p>
                    </div>
                    <p style="display: none;" v-if="userinfo.isadmin == true" @click="location_href('admin')">어드민 메뉴</p>

                </div>
            </div>

            <div id="list_footer">
                <div id="list_footer_header">
                    <p style="font-size: 25px;">최근 본 공연</p>
                </div>
                <div id="list_footer_body_if" v-if="latest_item.length != 0">
                    <div id="list_footer_img_srcoll">
                        <img style="cursor: pointer;" @click="click_list_footer_body_img(item)" v-for="item in latest_item" id="list_footer_body_img" :src="item">
                    </div>
                </div>
                <div id="list_footer_body_else" v-else>
                    <p style="font-size: 15px; text-align: center;">최근에 본 공연이 존재하지 않습니다.</p>
                </div>
            </div>
        </div>
<!--        <div id="menu_header" v-show="menu_vshow">-->
<!--            <p @click="location_href('main')">홈</p>-->
<!--            <p @click="location_href('search')">검색</p>-->
<!--            <p @click="location_href('favorites')">즐겨찾기</p>-->
<!--            <p @click="location_href('review')">리뷰</p>-->
<!--        </div>-->
    </div>
    <div id="location_top" @click="location_top">
        <svg id="location_top_svg" width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-arrow-up" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
            <path fill-rule="evenodd" d="M8 15a.5.5 0 0 0 .5-.5V2.707l3.146 3.147a.5.5 0 0 0 .708-.708l-4-4a.5.5 0 0 0-.708 0l-4 4a.5.5 0 1 0 .708.708L7.5 2.707V14.5a.5.5 0 0 0 .5.5z"/>
        </svg>
    </div>

    <router-view></router-view>
</div>
</body>
<script>
var xhr = function(url) {
    return new Promise(function(resolve, reject) {
      try {
        var xmhr = new XMLHttpRequest();
        xmhr.onreadystatechange = function() {
          if (xmhr.readyState == XMLHttpRequest.DONE && xmhr.status == 200) return resolve(xmhr.responseText);
        };
        xmhr.open("GET", url, true);
        xmhr.send();
      } catch (ex) {
        reject("Exception: Oh CORS's you've made a mistake!");
      }
    });
  };

  var ticket = new EventSource('/ticket');
  ticket.onmessage = function (res) {
    var objData = JSON.parse(res.data);
    var item = [];

    for(var i=0; i<objData.length; i++) {
        if(objData[i].appusers_id == app.userid) {
            item.push(objData[i]);
        }
    }
    if(app.appusers_ticket > item.length) {
        app.appusers_locker = objData;
        var scrollPosition = $("#app").offset().top;
            $("#app").animate({
                scrollTop: scrollPosition
            }, 500);
        $("#QR_loading_box").css("display", "block");
        $("#app").css("overflow","hidden");
        for(var i=0; i<app.appusers_locker.length; i++) {
            for(var j=0; j<app.readinfo.length; j++) {
                if(app.readinfo[j].id == app.appusers_locker[i].info_id) {
                   app.appusers_locker[i].info_id = app.readinfo[j];
                }
            }
        }
        setTimeout(()=> {
            $("#QR_loading_box_content").text("성공적으로 확인이 되었습니다.");
            $("#QR_loading_box_yes").css("display", "inline-block");
            $("#QR_loading_box_img").css("visibility", "hidden");
        }, 2000);

    } else if(app.appusers_ticket < item.length)  {
        $("#loading_box_img").css("visibility","hidden");
        $("#loading_box_content").text("성공적으로 구입하였습니다! 보관함으로 이동하시겠습니까?");
        $("#loading_box_button_yes").css("display", "inline-block");
        $("#loading_box_button_no").css("display", "inline-block");
    }
    app.appusers_ticket = item.length;
    console.log("ticket:",item);
    console.log("현 유저의 티켓 수: ",app.appusers_ticket);
  };


// 여기부터 live_review
var xhr = function(url) {
    return new Promise(function(resolve, reject) {
      try {
        var xmhr = new XMLHttpRequest();
        xmhr.onreadystatechange = function() {
          if (xmhr.readyState == XMLHttpRequest.DONE && xmhr.status == 200) return resolve(xmhr.responseText);
        };
        xmhr.open("GET", url, true);
        xmhr.send();
      } catch (ex) {
        reject("Exception: Oh CORS's you've made a mistake!");
      }
    });
  };

  var sse = new EventSource('/sse');
  sse.onmessage = function (evt) {
    var objData = JSON.parse(evt.data);
    if ( $("#main_header_p_3").css("font-weight") == '700') {
        if(app.livereview_sort_type == "최신순") {
            app.allreadreview = objData;
            console.log("162:", app.allreadreview);
            app.livereview_select_type(1);
             let list = [...app.allreadreview];
             var temp = app.allreadreview;
             app.allreadreview = list;
             var j=0;
             for(var i=app.allreadreview.length-1; i>=0; i--) {
                temp[j] = app.allreadreview[i];
                j++;
             }
             app.allreadreview = temp;
             console.log("sse: ", app.allreadreview);
        } else {
            app.allreadreview = objData;
            app.refresh_all_timestamp();
            app.livereview_select_type(2);
            console.log("sse: ", app.allreadreview);
        }
    }
  };
document.getElementById("getPosition").addEventListener("click", getPosition);
var current_my_location_lat = null;
var current_my_location_lng = null;
    window.onload = function () {
        getPosition();
    }
    function getPosition() {
       var options = {
          enableHighAccuracy: true,
          maximumAge: 3600000
       }
       var watchID = navigator.geolocation.getCurrentPosition(onSuccess, onError, options);
       console.log(watchID);

       function onSuccess(position) {
<!--          alert('Latitude: '          + position.coords.latitude          + '\n' +-->
<!--             'Longitude: '         + position.coords.longitude         + '\n');-->
          current_my_location_lat = position.coords.latitude;
          current_my_location_lng = position.coords.longitude;
          app.current_my_location_latitude = position.coords.latitude;
          app.current_my_location_longitude = position.coords.longitude;
       };

       function onError(error) {
          alert('code: '    + error.code    + '\n' + 'message: ' + error.message + '\n');
       }
    }

    var video = document.createElement("video");
    var canvasElement = document.getElementById("canvas");
    var canvas = canvasElement.getContext("2d");
    var loadingMessage = document.getElementById("loadingMessage");
    var outputContainer = document.getElementById("output");
    var outputMessage = document.getElementById("outputMessage");
    var outputData = document.getElementById("outputData");

    function drawLine(begin, end, color) {
      canvas.beginPath();
      canvas.moveTo(begin.x, begin.y);
      canvas.lineTo(end.x, end.y);
      canvas.lineWidth = 4;
      canvas.strokeStyle = color;
      canvas.stroke();
    }

    // Use facingMode: environment to attemt to get the front camera on phones
    navigator.mediaDevices.getUserMedia({ video: { facingMode: "environment" } }).then(function(stream) {
      video.srcObject = stream;
      video.setAttribute("playsinline", true); // required to tell iOS safari we don't want fullscreen
      video.play();
      requestAnimationFrame(tick);
    });

    function tick() {
      loadingMessage.innerText = "⌛ Loading video..."
      if (video.readyState === video.HAVE_ENOUGH_DATA) {
        loadingMessage.hidden = true;
        canvasElement.hidden = false;
        outputContainer.hidden = false;

        canvasElement.height = video.videoHeight;
        canvasElement.width = video.videoWidth;
        canvas.drawImage(video, 0, 0, canvasElement.width, canvasElement.height);
        var imageData = canvas.getImageData(0, 0, canvasElement.width, canvasElement.height);
        var code = jsQR(imageData.data, imageData.width, imageData.height, {
          inversionAttempts: "dontInvert",
        });
        if (code) {
          drawLine(code.location.topLeftCorner, code.location.topRightCorner, "#FF3B58");
          drawLine(code.location.topRightCorner, code.location.bottomRightCorner, "#FF3B58");
          drawLine(code.location.bottomRightCorner, code.location.bottomLeftCorner, "#FF3B58");
          drawLine(code.location.bottomLeftCorner, code.location.topLeftCorner, "#FF3B58");
          outputMessage.hidden = true;
          outputData.parentElement.hidden = false;
          outputData.innerText = code.data;
          app.code_data = code.data.split("/");
        } else {
          outputMessage.hidden = false;
          outputData.parentElement.hidden = true;
        }
      }
      requestAnimationFrame(tick);
    }
    document.addEventListener("backbutton", onBackKeyDown, false);      // Mobile 뒤로가기 버튼

    function onBackKeyDown() {                                          // Mobile 뒤로가기 버튼
        app.backbutton();
    }

    let map;

    function initMap() {
      var current_locations_lat = app.current_locations_lat;
      var current_locations_lng = app.current_locations_lng;
      map = new google.maps.Map(document.getElementById("map"), {
        center: { lat: current_locations_lat, lng: current_locations_lng },
        zoom: 14,
      });
      var locations = [
                    [`
                    <div class="wrap">
                        <div class="text-box">
                            <div class="img-box">
                                <img class="text-box-img" src="../static/img/을숙도문화회관.png">
                            </div>
                            <div class="info-box">
                                <p>주소: 부산광역시 사하구 하단2동 낙동남로 1233번길 25</p>
                                <p>번호: 051-220-5320</p>
                            </div>
                        </div>
                    </div>`
                    , 35.110009, 128.944716],

                    [`
                    <div class="wrap">
                        <div class="text-box">
                            <div class="img-box">
                                <img class="text-box-img" src="https://www.bscc.or.kr/img/common/ci.png">
                            </div>
                            <div class="info-box">
                                <p>주소: 부산광역시 남구 대연4동 유엔평화로76번길 1</p>
                                <p>번호: 051-607-6000</p>
                            </div>
                        </div>
                    </div>`
                    , 35.127324, 129.093607],

                    [`
                    <div class="wrap">
                        <div class="text-box">
                            <div class="img-box">
                                <p class="google_map_info_title">금정문화회관</p>
                            </div>
                            <div class="info-box">
                                <p>주소: 부산광역시 금정구 구서동 체육공원로 7</p>
                                <p>번호: 051-519-5651</p>
                            </div>
                        </div>
                    </div>`
                    , 35.245908, 129.094450],

                    [`
                    <div class="wrap">
                        <div class="text-box">
                            <div class="img-box">
                                <img class="text-box-img" src="https://www.bscc.or.kr/citizen/img/common/ci.png">
                            </div>
                            <div class="info-box">
                                <p>주소: 부산광역시 동구 범일2동 자성로133번길 16</p>
                                <p>번호: 051-630-5200</p>
                            </div>
                        </div>
                    </div>`
                    , 35.138921, 129.065223],

                    [`
                    <div class="wrap">
                        <div class="text-box">
                            <div class="img-box">
                                <p class="google_map_info_title">부산메트로홀</p>
                            </div>
                            <div class="info-box">
                                <p>주소: 부산광역시 수영구 광안로 4 부산광역시 수영구 광안로 4 광안지하철역 지하1층 상가 1호</p>
                                <p>번호: 1600-0316</p>
                            </div>
                        </div>
                    </div>`
                    , 35.157046, 129.113013],

                    [`
                    <div class="wrap">
                        <div class="text-box">
                            <div class="img-box">
                                <p class="google_map_info_title">초콜릿팩토리</p>
                            </div>
                            <div class="info-box">
                                <p>주소: 산암빌딩 지하 KR 부산광역시 남구 수영로 298 1층</p>
                                <p>번호: 051-621-4005</p>
                            </div>
                        </div>
                    </div>`
                    , 35.136625, 129.099108],

                    [`
                    <div class="wrap">
                        <div class="text-box">
                            <div class="img-box">
                                <p class="google_map_info_title">초록마술극장</p>
                            </div>
                            <div class="info-box">
                                <p>주소: 부산 금정구 기찰로108번길 49</p>
                                <p>번호: 070-8713-5859</p>
                            </div>
                        </div>
                    </div>`
                    , 35.241959, 129.095679],

                    [`
                    <div class="wrap">
                        <div class="text-box">
                            <div class="img-box">
                                <img class="text-box-img" src="http://www.gp-gp.co.kr/common/images/cmm/logo.png">
                            </div>
                            <div class="info-box">
                                <p>주소: 부산광역시 중구 남포동2가 25-10</p>
                                <p>번호: 1588-2757</p>
                            </div>
                        </div>
                    </div>`
                    , 35.098309, 129.032325],

                    [`
                    <div class="wrap">
                        <div class="text-box">
                            <div class="img-box">
                                <img class="text-box-img" src="http://www.culturerak.com/img/logo.jpg">
                            </div>
                            <div class="info-box">
                                <p>주소: 부산광역시 남구 대연동 유엔평화로 76번길 26</p>
                                <p>번호: 010-3855-8604</p>
                            </div>
                        </div>
                    </div>`
                    , 35.127736, 129.092825],

                    [`
                    <div class="wrap">
                        <div class="text-box">
                            <div class="img-box">
                                <img class="text-box-img" style="background-color: black; padding: 3%;" src="http://m.bexco.co.kr/m/_Img/main/logo.png">
                            </div>
                            <div class="info-box">
                                <p>주소: 부산광역시 우동 APEC로 55</p>
                                <p>번호: 051-740-7300</p>
                            </div>
                        </div>
                    </div>`
                    , 35.169138, 129.133525],

                    [`
                    <div class="wrap">
                        <div class="text-box">
                            <div class="img-box">
                                <img class="text-box-img" src="http://office.kbs.co.kr/hall/wp-content/uploads/sites/15/2016/09/kbshall_home_title.png">
                            </div>
                            <div class="info-box">
                                <p>주소: 부산광역시 수영구 남천1동 수영로 429</p>
                                <p>번호: 051-620-7181</p>
                            </div>
                        </div>
                    </div>`
                    , 35.145190, 129.109045],

                    [`
                    <div class="wrap">
                        <div class="text-box">
                            <div class="img-box">
                                <p class="google_map_info_title">소향씨어터</p>
                            </div>
                            <div class="info-box">
                                <p>주소: 부산광역시 해운대구 우동 센텀중앙로 55</p>
                                <p>번호: 051-950-6500</p>
                            </div>
                        </div>
                    </div>`
                    , 35.172883, 129.127722],

                    [`
                    <div class="wrap">
                        <div class="text-box">
                            <div class="img-box">
                                 <img class="text-box-img"  src="https://www.dreamtheatre.co.kr/Contents/Images/Common/logo_dream_eng.png">
                            </div>
                            <div class="info-box">
                                <p>주소: 부산광역시 남구 문현2동 전포대로 133</p>
                                <p>번호: 1833-3755</p>
                            </div>
                        </div>
                    </div>`
                    , 35.148440, 129.065389],

                    [`
                    <div class="wrap">
                        <div class="text-box">
                            <div class="img-box">
                                 <img class="text-box-img" src="https://static.tacdn.com/img2/brand_refresh/Tripadvisor_lockup_horizontal_secondary_registered.svg">
                            </div>
                            <div class="info-box">
                                <p>주소: 부산광역시 해운대구 중동 해운대해변로298번길 24</p>
                                <p>번호: 051-744-1160</p>
                            </div>
                        </div>
                    </div>`
                    , 35.160253, 129.166587],

                    [`
                    <div class="wrap">
                        <div class="text-box">
                            <div class="img-box">
                                 <img class="text-box-img" src="http://www.dureraum.org/bcc/images/common/logo.png">
                            </div>
                            <div class="info-box">
                                <p>주소: 부산광역시 해운대구 우동 수영강변대로 120</p>
                                <p>번호: 051-780-6000</p>
                            </div>
                        </div>
                    </div>`
                    , 35.171189, 129.127211],

                    [`
                    <div class="wrap">
                        <div class="text-box">
                            <p class="google_map_info_title">내위치</p>
                        </div>
                    </div>`
                    , current_my_location_lat, current_my_location_lng],
            ]




            //마커 이미지
            var customicon = 'http://drive.google.com/uc?export=view&id=1tZgPtboj4mwBYT6cZlcY36kYaQDR2bRM'
            var infowindow = new google.maps.InfoWindow();
            var custommarker = '../static/img/marker.png';
            //인포윈도우

            //마커 생성
            var marker, i;
            for (i = 0; i < locations.length; i++) {
                if( i == locations.length - 1 ) {
                    marker = new google.maps.Marker({

                        //마커의 위치
                        position: new google.maps.LatLng(current_my_location_lat, current_my_location_lng),
                        //마커 아이콘
                        icon: custommarker,
                        //마커를 표시할 지도
                        map: map
                    });
                } else {
                    marker = new google.maps.Marker({

                        //마커의 위치
                        position: new google.maps.LatLng(locations[i][1], locations[i][2]),
                        //마커 아이콘
                        icon: customicon,
                        //마커를 표시할 지도
                        map: map
                    });
                }


                google.maps.event.addListener(marker, 'click', (function(marker, i) {
                    return function() {

                        //html로 표시될 인포 윈도우의 내용
                        infowindow.setContent(locations[i][0]);

                        //인포윈도우가 표시될 위치
                        infowindow.open(map, marker);
                    }
                })(marker, i));

                if (marker) {
                    marker.addListener('click', function() {

                        //중심 위치를 클릭된 마커의 위치로 변경
                        map.setCenter(this.getPosition());

                        //마커 클릭 시의 줌 변화
                        map.setZoom(14);
                    });
                }
            }
    }


    var vue_alert = Vue.component('vue_alert', {
        template: `
            <div :id="id">
                <div style="">
                    <p id="vue_alert_content">{{content}}
                        <svg @click="vue_alert_click_close" style="display: inline-block;" width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-x" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                            <path fill-rule="evenodd" d="M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z"/>
                        </svg>
                    </p>
                </div>
            </div>
        `,
        data: {
        },
        methods: {
            vue_alert_click_close: function() {
                var vm = this;
                $("#"+vm.id).css("display", "none");
            },
        },
        props: {
          id: '',
          content: '',
        },
    });

    var LoadingComponent = {
        template : `
        <div id="default_div" style="top: -100%;">
            <div id="loading">
                <img id="loading_img" src="../static/img/로딩화면.jpg" />
            </div>
        </div>
        `
    };
    var MainComponent = {
        template : `
        <div id="default_div">
            <div id="main">
                <div id="sidebar_dimmed_main_3" @click="app.click_sidebar_dimmed_main_3"></div>
                <div id="first_header">
                    <svg @click="app.backbutton" width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-chevron-left" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                      <path fill-rule="evenodd" d="M11.354 1.646a.5.5 0 0 1 0 .708L5.707 8l5.647 5.646a.5.5 0 0 1-.708.708l-6-6a.5.5 0 0 1 0-.708l6-6a.5.5 0 0 1 .708 0z"/>
                    </svg>
                    <p id="first_header_title" @click="app.location_href('main')">Performation</p>
                    <p id="first_header_list" @click="app.vshow_list">
                        <svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-list" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                            <path fill-rule="evenodd" d="M2.5 11.5A.5.5 0 0 1 3 11h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5zm0-4A.5.5 0 0 1 3 7h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5zm0-4A.5.5 0 0 1 3 3h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5z"/>
                        </svg>
                    </p>
                    <p id="first_header_search">
                        <svg id="first_header_search_svg" @click="app.location_href('search')" width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-search" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                          <path fill-rule="evenodd" d="M10.442 10.442a1 1 0 0 1 1.415 0l3.85 3.85a1 1 0 0 1-1.414 1.415l-3.85-3.85a1 1 0 0 1 0-1.415z"/>
                          <path fill-rule="evenodd" d="M6.5 12a5.5 5.5 0 1 0 0-11 5.5 5.5 0 0 0 0 11zM13 6.5a6.5 6.5 0 1 1-13 0 6.5 6.5 0 0 1 13 0z"/>
                        </svg>
                    </p>

                </div>

                <div id="main_header">
                    <p id="main_header_p_1" @click="app.main_header_click(1)">홈</p>
                    <p id="main_header_p_2" @click="app.main_header_click(2)">이벤트</p>
                    <p id="main_header_p_3" @click="app.main_header_click(3)">실시간리뷰</p>
                </div>

                <div id="main_header_border_bottomm">
                </div>

                <div id="main_body">
                    <section id="main_body_section_1" v-show="app.main_body_section_1_vshow">
                        <div id="main_body_div_select">
                            <div id="main_body_div_select_list">
                                <p id="main_body_div_select_list_p" style="color: #311F75; font-weight: bold;" @click="app.change_genre(0)" class="main_body_div_select_list_p_0">전체</p>
                                <p id="main_body_div_select_list_p" @click="app.change_genre(1)" class="main_body_div_select_list_p_1">오페라</p>
                                <p id="main_body_div_select_list_p" @click="app.change_genre(2)" class="main_body_div_select_list_p_2">연극</p>
                                <p id="main_body_div_select_list_p" @click="app.change_genre(3)" class="main_body_div_select_list_p_3">콘서트</p>
                                <p id="main_body_div_select_list_p" @click="app.change_genre(4)" class="main_body_div_select_list_p_4">뮤지컬</p>
                                <p id="main_body_div_select_list_p" @click="app.change_genre(5)" class="main_body_div_select_list_p_5">클래식</p>
                                <p id="main_body_div_select_list_p" @click="app.click_search_types" style="width: 100%; display: block; position: relative; text-align: right; right: 34px;" v-model="app.current_type">{{app.current_type}}<svg v-if="app.click_search_type_active == true" id="main_body_div_select_type_up" width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-caret-up" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                  <path fill-rule="evenodd" d="M3.204 11L8 5.519 12.796 11H3.204zm-.753-.659l4.796-5.48a1 1 0 0 1 1.506 0l4.796 5.48c.566.647.106 1.659-.753 1.659H3.204a1 1 0 0 1-.753-1.659z"/>
                                </svg>
                                <svg v-else id="main_body_div_select_type_up" width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-caret-down" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                  <path fill-rule="evenodd" d="M3.204 5L8 10.481 12.796 5H3.204zm-.753.659l4.796 5.48a1 1 0 0 0 1.506 0l4.796-5.48c.566-.647.106-1.659-.753-1.659H3.204a1 1 0 0 0-.753 1.659z"/>
                                </svg>
                                </p>
                                 <div id="main_body_div_select_list_type" v-show="app.vshow_main_body_div_select_list_type">
                                    <p @click="app.change_type(1)">조회순
                                    <span class="vshow_checked" style="float: right; position: relative; top: -10px;">
                                        <svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-check" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                          <path fill-rule="evenodd" d="M10.97 4.97a.75.75 0 0 1 1.071 1.05l-3.992 4.99a.75.75 0 0 1-1.08.02L4.324 8.384a.75.75 0 1 1 1.06-1.06l2.094 2.093 3.473-4.425a.236.236 0 0 1 .02-.022z"/>
                                        </svg>
                                    </span>
                                    </p>
                                    <p @click="app.change_type(2)">평점순
                                    <span class="vshow_checked" style="float: right; position: relative; top: -10px;">
                                        <svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-check" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                          <path fill-rule="evenodd" d="M10.97 4.97a.75.75 0 0 1 1.071 1.05l-3.992 4.99a.75.75 0 0 1-1.08.02L4.324 8.384a.75.75 0 1 1 1.06-1.06l2.094 2.093 3.473-4.425a.236.236 0 0 1 .02-.022z"/>
                                        </svg>
                                    </span></p>
                                    <p @click="app.change_type(3)">댓글순
                                    <span class="vshow_checked" style="float: right; position: relative; top: -10px;">
                                        <svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-check" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                          <path fill-rule="evenodd" d="M10.97 4.97a.75.75 0 0 1 1.071 1.05l-3.992 4.99a.75.75 0 0 1-1.08.02L4.324 8.384a.75.75 0 1 1 1.06-1.06l2.094 2.093 3.473-4.425a.236.236 0 0 1 .02-.022z"/>
                                        </svg>
                                    </span></p>
                                 </div>
                            </div>
                        </div>
                        <article id="main_body_section_article" v-for="item in app.readinfo" @click="app.location_info_href('info', item.id)">
                                <div id="main_body_section_article_div" v-if="item.movie_id == app.movie_id">
                                    <div id="default_inline_block">
                                        <img id="main_body_section_article_1_first_img" :src="item.img" @click="app.location_info_href('info', item.id)">
                                    </div>
                                    <div id="default_inline_block" class="main_body_section_article_1_first_body">
                                        <p id="main_body_section_article_1_first_title">{{item.title}}</p>
                                        <p id="info_body_first_grade_star_1" v-if="(item.grade / item.addcount) >= 1"><svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-star-fill" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                           <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.283.95l-3.523 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
                                        </svg></p>
                                        <p id="info_body_first_grade_star_1" v-else><svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-star" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                           <path fill-rule="evenodd" d="M2.866 14.85c-.078.444.36.791.746.593l4.39-2.256 4.389 2.256c.386.198.824-.149.746-.592l-.83-4.73 3.523-3.356c.329-.314.158-.888-.283-.95l-4.898-.696L8.465.792a.513.513 0 0 0-.927 0L5.354 5.12l-4.898.696c-.441.062-.612.636-.283.95l3.523 3.356-.83 4.73zm4.905-2.767l-3.686 1.894.694-3.957a.565.565 0 0 0-.163-.505L1.71 6.745l4.052-.576a.525.525 0 0 0 .393-.288l1.847-3.658 1.846 3.658a.525.525 0 0 0 .393.288l4.052.575-2.906 2.77a.564.564 0 0 0-.163.506l.694 3.957-3.686-1.894a.503.503 0 0 0-.461 0z"/>
                                        </svg></p>
                                        <p id="info_body_first_grade_star_2" v-if="(item.grade / item.addcount) >= 2"><svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-star-fill" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                           <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.283.95l-3.523 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
                                        </svg></p>
                                        <p id="info_body_first_grade_star_2" v-else><svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-star" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                           <path fill-rule="evenodd" d="M2.866 14.85c-.078.444.36.791.746.593l4.39-2.256 4.389 2.256c.386.198.824-.149.746-.592l-.83-4.73 3.523-3.356c.329-.314.158-.888-.283-.95l-4.898-.696L8.465.792a.513.513 0 0 0-.927 0L5.354 5.12l-4.898.696c-.441.062-.612.636-.283.95l3.523 3.356-.83 4.73zm4.905-2.767l-3.686 1.894.694-3.957a.565.565 0 0 0-.163-.505L1.71 6.745l4.052-.576a.525.525 0 0 0 .393-.288l1.847-3.658 1.846 3.658a.525.525 0 0 0 .393.288l4.052.575-2.906 2.77a.564.564 0 0 0-.163.506l.694 3.957-3.686-1.894a.503.503 0 0 0-.461 0z"/>
                                        </svg></p>

                                        <p id="info_body_first_grade_star_3" v-if="(item.grade / item.addcount) >= 3"><svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-star-fill" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                           <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.283.95l-3.523 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
                                        </svg></p>
                                        <p id="info_body_first_grade_star_3" v-else><svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-star" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                           <path fill-rule="evenodd" d="M2.866 14.85c-.078.444.36.791.746.593l4.39-2.256 4.389 2.256c.386.198.824-.149.746-.592l-.83-4.73 3.523-3.356c.329-.314.158-.888-.283-.95l-4.898-.696L8.465.792a.513.513 0 0 0-.927 0L5.354 5.12l-4.898.696c-.441.062-.612.636-.283.95l3.523 3.356-.83 4.73zm4.905-2.767l-3.686 1.894.694-3.957a.565.565 0 0 0-.163-.505L1.71 6.745l4.052-.576a.525.525 0 0 0 .393-.288l1.847-3.658 1.846 3.658a.525.525 0 0 0 .393.288l4.052.575-2.906 2.77a.564.564 0 0 0-.163.506l.694 3.957-3.686-1.894a.503.503 0 0 0-.461 0z"/>
                                        </svg></p>

                                        <p id="info_body_first_grade_star_4" v-if="(item.grade / item.addcount) >= 4"><svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-star-fill" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                           <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.283.95l-3.523 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
                                        </svg></p>
                                        <p id="info_body_first_grade_star_4" v-else><svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-star" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                           <path fill-rule="evenodd" d="M2.866 14.85c-.078.444.36.791.746.593l4.39-2.256 4.389 2.256c.386.198.824-.149.746-.592l-.83-4.73 3.523-3.356c.329-.314.158-.888-.283-.95l-4.898-.696L8.465.792a.513.513 0 0 0-.927 0L5.354 5.12l-4.898.696c-.441.062-.612.636-.283.95l3.523 3.356-.83 4.73zm4.905-2.767l-3.686 1.894.694-3.957a.565.565 0 0 0-.163-.505L1.71 6.745l4.052-.576a.525.525 0 0 0 .393-.288l1.847-3.658 1.846 3.658a.525.525 0 0 0 .393.288l4.052.575-2.906 2.77a.564.564 0 0 0-.163.506l.694 3.957-3.686-1.894a.503.503 0 0 0-.461 0z"/>
                                        </svg></p>

                                        <p id="info_body_first_grade_star_5" v-if="(item.grade / item.addcount) >= 5"><svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-star-fill" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                           <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.283.95l-3.523 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
                                        </svg></p>
                                        <p id="info_body_first_grade_star_5" v-else><svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-star" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                           <path fill-rule="evenodd" d="M2.866 14.85c-.078.444.36.791.746.593l4.39-2.256 4.389 2.256c.386.198.824-.149.746-.592l-.83-4.73 3.523-3.356c.329-.314.158-.888-.283-.95l-4.898-.696L8.465.792a.513.513 0 0 0-.927 0L5.354 5.12l-4.898.696c-.441.062-.612.636-.283.95l3.523 3.356-.83 4.73zm4.905-2.767l-3.686 1.894.694-3.957a.565.565 0 0 0-.163-.505L1.71 6.745l4.052-.576a.525.525 0 0 0 .393-.288l1.847-3.658 1.846 3.658a.525.525 0 0 0 .393.288l4.052.575-2.906 2.77a.564.564 0 0 0-.163.506l.694 3.957-3.686-1.894a.503.503 0 0 0-.461 0z"/>
                                        </svg></p>

                                        <p id="info_body_first_grade" v-if="item.grade != null">{{ (item.grade / item.addcount).toFixed(1)  }}</p>
                                        <p id="info_body_first_grade" v-else>0점</p>
<!--                                        <p id="main_body_section_article_1_first_grade">{{item.grade / item.addcount}}</p>-->
                                        <p id="main_body_section_article_1_first_time">{{item.start_time}} ~ {{item.end_time}}</p>
                                        <p id="main_body_section_article_1_first_address">{{item.address}}</p>
<!--                                        <p id="main_body_section_article_1_first_view_count">조회수: {{item.view_count}}</p>-->
<!--                                        <p id="main_body_section_article_1_first_review_count">댓글수: {{item.review_count}}</p>-->
                                    </div>
                                </div>
                                <div id="main_body_section_article_div" v-if="app.movie_id == 0">
                                    <div id="default_inline_block">
                                        <img id="main_body_section_article_1_first_img" :src="item.img" @click="app.location_info_href('info', item.id)">
                                    </div>
                                    <div id="default_inline_block" class="main_body_section_article_1_first_body">
                                        <p id="main_body_section_article_1_first_title">{{item.title}}</p>

                                        <p id="info_body_first_grade_star_1" v-if="(item.grade / item.addcount) >= 1"><svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-star-fill" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                           <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.283.95l-3.523 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
                                        </svg></p>
                                        <p id="info_body_first_grade_star_1" v-else><svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-star" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                           <path fill-rule="evenodd" d="M2.866 14.85c-.078.444.36.791.746.593l4.39-2.256 4.389 2.256c.386.198.824-.149.746-.592l-.83-4.73 3.523-3.356c.329-.314.158-.888-.283-.95l-4.898-.696L8.465.792a.513.513 0 0 0-.927 0L5.354 5.12l-4.898.696c-.441.062-.612.636-.283.95l3.523 3.356-.83 4.73zm4.905-2.767l-3.686 1.894.694-3.957a.565.565 0 0 0-.163-.505L1.71 6.745l4.052-.576a.525.525 0 0 0 .393-.288l1.847-3.658 1.846 3.658a.525.525 0 0 0 .393.288l4.052.575-2.906 2.77a.564.564 0 0 0-.163.506l.694 3.957-3.686-1.894a.503.503 0 0 0-.461 0z"/>
                                        </svg></p>
                                        <p id="info_body_first_grade_star_2" v-if="(item.grade / item.addcount) >= 2"><svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-star-fill" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                           <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.283.95l-3.523 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
                                        </svg></p>
                                        <p id="info_body_first_grade_star_2" v-else><svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-star" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                           <path fill-rule="evenodd" d="M2.866 14.85c-.078.444.36.791.746.593l4.39-2.256 4.389 2.256c.386.198.824-.149.746-.592l-.83-4.73 3.523-3.356c.329-.314.158-.888-.283-.95l-4.898-.696L8.465.792a.513.513 0 0 0-.927 0L5.354 5.12l-4.898.696c-.441.062-.612.636-.283.95l3.523 3.356-.83 4.73zm4.905-2.767l-3.686 1.894.694-3.957a.565.565 0 0 0-.163-.505L1.71 6.745l4.052-.576a.525.525 0 0 0 .393-.288l1.847-3.658 1.846 3.658a.525.525 0 0 0 .393.288l4.052.575-2.906 2.77a.564.564 0 0 0-.163.506l.694 3.957-3.686-1.894a.503.503 0 0 0-.461 0z"/>
                                        </svg></p>

                                        <p id="info_body_first_grade_star_3" v-if="(item.grade / item.addcount) >= 3"><svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-star-fill" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                           <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.283.95l-3.523 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
                                        </svg></p>
                                        <p id="info_body_first_grade_star_3" v-else><svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-star" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                           <path fill-rule="evenodd" d="M2.866 14.85c-.078.444.36.791.746.593l4.39-2.256 4.389 2.256c.386.198.824-.149.746-.592l-.83-4.73 3.523-3.356c.329-.314.158-.888-.283-.95l-4.898-.696L8.465.792a.513.513 0 0 0-.927 0L5.354 5.12l-4.898.696c-.441.062-.612.636-.283.95l3.523 3.356-.83 4.73zm4.905-2.767l-3.686 1.894.694-3.957a.565.565 0 0 0-.163-.505L1.71 6.745l4.052-.576a.525.525 0 0 0 .393-.288l1.847-3.658 1.846 3.658a.525.525 0 0 0 .393.288l4.052.575-2.906 2.77a.564.564 0 0 0-.163.506l.694 3.957-3.686-1.894a.503.503 0 0 0-.461 0z"/>
                                        </svg></p>

                                        <p id="info_body_first_grade_star_4" v-if="(item.grade / item.addcount) >= 4"><svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-star-fill" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                           <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.283.95l-3.523 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
                                        </svg></p>
                                        <p id="info_body_first_grade_star_4" v-else><svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-star" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                           <path fill-rule="evenodd" d="M2.866 14.85c-.078.444.36.791.746.593l4.39-2.256 4.389 2.256c.386.198.824-.149.746-.592l-.83-4.73 3.523-3.356c.329-.314.158-.888-.283-.95l-4.898-.696L8.465.792a.513.513 0 0 0-.927 0L5.354 5.12l-4.898.696c-.441.062-.612.636-.283.95l3.523 3.356-.83 4.73zm4.905-2.767l-3.686 1.894.694-3.957a.565.565 0 0 0-.163-.505L1.71 6.745l4.052-.576a.525.525 0 0 0 .393-.288l1.847-3.658 1.846 3.658a.525.525 0 0 0 .393.288l4.052.575-2.906 2.77a.564.564 0 0 0-.163.506l.694 3.957-3.686-1.894a.503.503 0 0 0-.461 0z"/>
                                        </svg></p>

                                        <p id="info_body_first_grade_star_5" v-if="(item.grade / item.addcount) >= 5"><svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-star-fill" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                           <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.283.95l-3.523 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
                                        </svg></p>
                                        <p id="info_body_first_grade_star_5" v-else><svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-star" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                           <path fill-rule="evenodd" d="M2.866 14.85c-.078.444.36.791.746.593l4.39-2.256 4.389 2.256c.386.198.824-.149.746-.592l-.83-4.73 3.523-3.356c.329-.314.158-.888-.283-.95l-4.898-.696L8.465.792a.513.513 0 0 0-.927 0L5.354 5.12l-4.898.696c-.441.062-.612.636-.283.95l3.523 3.356-.83 4.73zm4.905-2.767l-3.686 1.894.694-3.957a.565.565 0 0 0-.163-.505L1.71 6.745l4.052-.576a.525.525 0 0 0 .393-.288l1.847-3.658 1.846 3.658a.525.525 0 0 0 .393.288l4.052.575-2.906 2.77a.564.564 0 0 0-.163.506l.694 3.957-3.686-1.894a.503.503 0 0 0-.461 0z"/>
                                        </svg></p>

                                        <p id="info_body_first_grade" v-if="item.grade != null">{{ (item.grade / item.addcount).toFixed(1)  }}</p>
                                        <p id="info_body_first_grade" v-else>0점</p>
<!--                                        <p id="main_body_section_article_1_first_grade">{{item.grade / item.addcount}}</p>-->
                                        <p id="main_body_section_article_1_first_time">{{item.start_time}} ~ {{item.end_time}}</p>
                                        <p id="main_body_section_article_1_first_address">{{item.address}}</p>
<!--                                        <p id="main_body_section_article_1_first_view_count">조회수: {{item.view_count}}</p>-->
<!--                                        <p id="main_body_section_article_1_first_review_count">댓글수: {{item.review_count}}</p>-->
                                    </div>
                                </div>
                        </article>
                    </section>

                    <section id="main_body_section_2" v-show="app.main_body_section_2_vshow">
                        <div id="default_box">
                            <div id="main_body_section_2_user_info">
                                <img @click="app.location_href('usersetting')" id="main_body_section_2_user_info_img" src="../static/img/default_circle_image.png" />
                                <p id="main_body_section_2_user_info_p_1">{{app.username}}님 안녕하세요.</p>
                                <p id="main_body_section_2_user_info_p_2">
                                    <span>보유포인트 : {{app.userinfo.point}}p</span>
                                    <span>충전</span>
                                </p>
                            </div>

                            <div id="main_body_section_2_event_list">
                                <div id="main_body_section_2_event_list_div" style="min-width: 2000px;">
                                    <div id="main_body_section_2_event_item" v-for="item in app.event">
                                        <img id="main_body_section_2_event_item_img" src="../static/img/회원가입-이벤트.png"/>
                                        <p id="main_body_section_2_event_item_p">{{item.title}}</p>
                                    </div>
                                </div>
                            </div>

                        </div>
                    </section>

                    <section id="main_body_section_3" v-show="app.main_body_section_3_vshow">
                        <div id="default_box_2">
                            <div id="main_body_section_3_header">
                                <p @click="app.refresh_live_review" style="text-align: center; cursor: pointer;">
                                    <svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-arrow-repeat" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                      <path d="M11.534 7h3.932a.25.25 0 0 1 .192.41l-1.966 2.36a.25.25 0 0 1-.384 0l-1.966-2.36a.25.25 0 0 1 .192-.41zm-11 2h3.932a.25.25 0 0 0 .192-.41L2.692 6.23a.25.25 0 0 0-.384 0L.342 8.59A.25.25 0 0 0 .534 9z"/>
                                      <path fill-rule="evenodd" d="M8 3c-1.552 0-2.94.707-3.857 1.818a.5.5 0 1 1-.771-.636A6.002 6.002 0 0 1 13.917 7H12.9A5.002 5.002 0 0 0 8 3zM3.1 9a5.002 5.002 0 0 0 8.757 2.182.5.5 0 1 1 .771.636A6.002 6.002 0 0 1 2.083 9H3.1z"/>
                                    </svg>
                                </p>
                                <span id="main_body_section_3_header_span">실시간리뷰: {{app.allreadreview.length}}건</span>
                                <p id="main_body_section_3_header_sort" @click="app.main_body_section_3_header_type_active">정렬</p>
                            </div>

                            <div id="main_body_section_3_header_type" v-show="app.vshow_main_body_section_3_header_type">
                                <p @click="app.livereview_select_type(1)">최신순
                                    <svg style="float: right; position: relative; top: 5px; display: block;" width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-check vshow_checked_2" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                        <path fill-rule="evenodd" d="M10.97 4.97a.75.75 0 0 1 1.071 1.05l-3.992 4.99a.75.75 0 0 1-1.08.02L4.324 8.384a.75.75 0 1 1 1.06-1.06l2.094 2.093 3.473-4.425a.236.236 0 0 1 .02-.022z"/>
                                    </svg>
                                </p>
                                <p @click="app.livereview_select_type(2)">인기순
                                    <svg style="float: right; position: relative; top: 5px; display: none;" width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-check vshow_checked_2" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                        <path fill-rule="evenodd" d="M10.97 4.97a.75.75 0 0 1 1.071 1.05l-3.992 4.99a.75.75 0 0 1-1.08.02L4.324 8.384a.75.75 0 1 1 1.06-1.06l2.094 2.093 3.473-4.425a.236.236 0 0 1 .02-.022z"/>
                                    </svg>
                                </p>
                            </div>

                            <div id="main_body_section_3_body" v-for="item in app.allreadreview">
                                <div id="main_body_section_3_body_fisrt">
                                    <img id="main_body_section_3_body_fisrt_img" src="../static/img/default_circle_image.png">
                                </div>

                                <div id="main_body_section_3_body_second">
                                    <p id="main_body_section_3_body_second_username">{{item.username}}</p>
                                    <p style="font-size: 20px; display: inline-block;">{{item.movie.title}}</p>
                                    <p style="color: gray; display: inline-block; font-size: 17px; border-left: 2px solid #ebeef1; padding-left: 9px;" >{{app.readinfo_type[item.movie.movie_id - 1]}}</p>
                                    <p style="font-size: 20px; word-break: break-all;">{{item.content}}</p>
                                    <p class="border_right" style="display: inline-block; font-size: 20px;">{{item.timestamp}}</p>
                                    <p style="display: inline-block; font-size: 15px;">좋아요 {{item.push}}</p>
                                </div>
                            </div>
                        </div>
                    </section>

                </div>
            </div>
        </div>
        `
    };
    var SettingComponent = {
        template : `
        <div id="setting">
            <p id="hedaer_X" @click="app.location_path">X</p>
            <div id="setting_body" v-if="app.username == ''">
                <form>
                    <div id="setting_body_form">
                        <input id="setting_body_form_id" type="text" v-model="app.email" placeholder="아이디">
                        <input id="setting_body_form_pw" type="password" v-model="app.pw" placeholder="비밀번호">
                        <p id="setting_body_form_remember">
                        <span id="setting_body_form_remember_span" style="font-size: 14px;">자동로그인</span>
                        <input id="setting_body_form_check" type="checkbox" v-model="app.rememberme">
                        </p>
                        <button id="setting_body_form_button" @click="app.login">로그인</button>
                    </div>
                </form>
                <div id="setting_body_signin">
                    <div id="setting_body_signin_p">아이디찾기</div>
                    <div id="setting_body_signin_p">비밀번호찾기</div>
                    <p id="setting_body_signin_p" @click="app.location_href('signin')">회원가입</p>
                </div>
            </div>
            <div id="setting_body" v-else>
                <p>{{app.username}}님 안녕하세요.</p>
            </div>
        </div>
        `
    };
    var SignInComponent = {
        template : `
        <div id="signin">
            <div id="signin_body">
                <p id="signin_body_back_button">
                    <svg @click="app.backbutton" width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-chevron-left" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                          <path fill-rule="evenodd" d="M11.354 1.646a.5.5 0 0 1 0 .708L5.707 8l5.647 5.646a.5.5 0 0 1-.708.708l-6-6a.5.5 0 0 1 0-.708l6-6a.5.5 0 0 1 .708 0z"/>
                    </svg>
                </p>
                <img id="login_banner_img" src="../static/img/festival.jpg">
                <form id="signin_body_form">
                    <div id="signin_body_form_border">
                        <div id="signin_body_email">
                            <input id="signin_body_email_input" v-model="app.email" placeholder="아이디 입력" required>
                        </div>

                        <div id="signin_body_phone">
                            <input id="signin_body_phone_input" v-model="app.phone" placeholder="휴대폰번호 입력" required>
                        </div>

                        <div id="signin_body_username">
                            <input id="signin_body_username_input" v-model="app.username" placeholder="사용할 닉네임 입력" required>
                        </div>

                        <div id="signin_body_password">
                            <input id="signin_body_password_input" v-model="app.pw" placeholder="비밀번호 입력" required>
                        </div>

                        <div id="signin_body_button">
                            <button id="signin_body_button_button" @click="app.signin">회원가입</button>
                        </div>
                    </div>
                </form>
            </div>
        </div>
        `
    };
    var LoginComponent = {
        template : `
            <div id="login">
                <div id="login_banner">
                    <img id="login_banner_img" src="../static/img/festival.jpg">
                </div>

                <div id="login_body">
                    <div id="login_body_form">
                        <input id="login_body_form_id" type="text" v-model="app.email" placeholder="아이디" required>
                        <input id="login_body_form_pw" type="password" v-model="app.pw" placeholder="비밀번호" required>
                        <p id="login_body_form_remember">
                        <span id="login_body_form_remember_span" style="font-size: 14px;">자동로그인</span>
                        <input id="login_body_form_check" type="checkbox" v-model="app.rememberme">
                        </p>
                        <button id="login_body_form_button" class="btn" @click="app.login">로그인</button>
                    </div>
                    <div id="login_body_signin">
                    <div id="login_body_signin_p">아이디찾기</div>
                    <div id="login_body_signin_p">비밀번호찾기</div>
                    <p id="login_body_signin_p" @click="app.location_href('signin')">회원가입</p>
                </div>
            </div>
        `
    };
    var SearchComponent = {
        template : `
            <div id="default_div">
                <div id="first_header">
                        <svg @click="app.backbutton" width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-chevron-left" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                          <path fill-rule="evenodd" d="M11.354 1.646a.5.5 0 0 1 0 .708L5.707 8l5.647 5.646a.5.5 0 0 1-.708.708l-6-6a.5.5 0 0 1 0-.708l6-6a.5.5 0 0 1 .708 0z"/>
                        </svg>
                        <p id="first_header_title" @click="app.location_href('main')">Performation</p>
                        <p id="first_header_list" @click="app.vshow_list">
                            <svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-list" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                <path fill-rule="evenodd" d="M2.5 11.5A.5.5 0 0 1 3 11h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5zm0-4A.5.5 0 0 1 3 7h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5zm0-4A.5.5 0 0 1 3 3h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5z"/>
                            </svg>
                        </p>
                        <p id="first_header_search">
                            <svg id="first_header_search_svg" @click="app.location_href('search')" width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-search" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                              <path fill-rule="evenodd" d="M10.442 10.442a1 1 0 0 1 1.415 0l3.85 3.85a1 1 0 0 1-1.414 1.415l-3.85-3.85a1 1 0 0 1 0-1.415z"/>
                              <path fill-rule="evenodd" d="M6.5 12a5.5 5.5 0 1 0 0-11 5.5 5.5 0 0 0 0 11zM13 6.5a6.5 6.5 0 1 1-13 0 6.5 6.5 0 0 1 13 0z"/>
                            </svg>
                        </p>
                </div>

                <section id="main_body_section_2">
                        <div id="main_body_section_2_box" style="margin-top:63px">
                            <input id="main_body_section_2_input" style="width: 87%;" v-model="app.info_search" type="text"  autocomplete="off" placeholder="공연의 제목을 입력하세요." />
                            <svg id="main_body_section_2_input_search_svg" width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-search" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                  <path fill-rule="evenodd" d="M10.442 10.442a1 1 0 0 1 1.415 0l3.85 3.85a1 1 0 0 1-1.414 1.415l-3.85-3.85a1 1 0 0 1 0-1.415z"/>
                                  <path fill-rule="evenodd" d="M6.5 12a5.5 5.5 0 1 0 0-11 5.5 5.5 0 0 0 0 11zM13 6.5a6.5 6.5 0 1 1-13 0 6.5 6.5 0 0 1 13 0z"/>
                            </svg>
                        </div>

                        <div id="search_body" v-if="app.info_search != ''">
                            <div v-for="item in app.readinfo">
                                <div v-if="item.title.includes(app.info_search)">
                                    <p id="search_body_search_list" @click="app.location_info_href('info', item.id, item.title)">{{item.title}}</p>
                                </div>
                            </div>
                        </div>
                        <div id="search_body" v-else>
                            <div id="latest_list_div_if" v-if="app.latest_search_list != ''">
                                <p id="latest_list_div_if_p" @click="app.click_latest_list_div_if_p(search_list)" v-for="(search_list,index) in app.latest_search_list_array">
                                    {{search_list}}
                                    <svg id="latest_list_div_if_svg" @click="app.click_latest_list_div_if_svg(index)" style="display: inline-block;" width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-x" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                        <path fill-rule="evenodd" d="M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z"/>
                                    </svg>
                                </p>
                            </div>
                            <div id="latest_list_div_else" v-else>
                                <p id="latest_list_div_else_p">최근 검색어가 없습니다.</p>
                            </div>
                        </div>
                </section>
            </div>
        `
    };
    var FavoritesComponent = {
        template : `
            <div id="default_div">
               <div id="first_header">
                    <svg @click="app.backbutton" width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-chevron-left" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                      <path fill-rule="evenodd" d="M11.354 1.646a.5.5 0 0 1 0 .708L5.707 8l5.647 5.646a.5.5 0 0 1-.708.708l-6-6a.5.5 0 0 1 0-.708l6-6a.5.5 0 0 1 .708 0z"/>
                    </svg>
                   <p id="first_header_title" @click="app.location_href('main')">Performation</p>
                   <p id="first_header_list" @click="app.vshow_list">
                       <svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-list" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                           <path fill-rule="evenodd" d="M2.5 11.5A.5.5 0 0 1 3 11h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5zm0-4A.5.5 0 0 1 3 7h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5zm0-4A.5.5 0 0 1 3 3h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5z"/>
                       </svg>
                   </p>
                   <p id="first_header_search">
                   <p id="first_header_search">
                        <svg id="first_header_search_svg" @click="app.location_href('search')" width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-search" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                           <path fill-rule="evenodd" d="M10.442 10.442a1 1 0 0 1 1.415 0l3.85 3.85a1 1 0 0 1-1.414 1.415l-3.85-3.85a1 1 0 0 1 0-1.415z"/>
                           <path fill-rule="evenodd" d="M6.5 12a5.5 5.5 0 1 0 0-11 5.5 5.5 0 0 0 0 11zM13 6.5a6.5 6.5 0 1 1-13 0 6.5 6.5 0 0 1 13 0z"/>
                        </svg>
                   </p>
               </div>

               <div id="favorites">
                   <div id="favorites_header">
                        <p>즐겨찾기</p>
                   </div>

                   <div id="favorites_body" v-if="app.readFavorites.length != 0">
                        <div v-for="item in app.readinfo">
                            <div v-for="value in app.readFavorites">
                                <div id="favorites_body_div" v-if="item.id==value.readinfo_id && value.appusers_id == app.userid">
                                    <img @click="app.location_info_href('info', item.id)" id="favorites_body_img" :src="item.img">
                                    <p @click="app.location_info_href('info', item.id)" id="favorites_body_title">{{item.title}}</p>
                                    <p id="favorites_body_star_fill" @click="app.info_favorites_delete(item.id)"><svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-star-fill" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                       <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.283.95l-3.523 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
                                    </svg></p>
                                </div>
                            </div>
                        </div>
                   </div>
                   <div id="favorites_body" v-else>
                       <p>즐겨찾기가 없네요</p>
                   </div>
               </div>
            </div>
        `
    };
    var ReviewComponent = {
        template : `
            <div id="default_div">
                <div id="sidebar_dimmed_review"></div>
                <div id="first_header">
                    <svg @click="app.backbutton" width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-chevron-left" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                      <path fill-rule="evenodd" d="M11.354 1.646a.5.5 0 0 1 0 .708L5.707 8l5.647 5.646a.5.5 0 0 1-.708.708l-6-6a.5.5 0 0 1 0-.708l6-6a.5.5 0 0 1 .708 0z"/>
                    </svg>
                    <p id="first_header_title" style="font-family: 'Do Hyeon', sans-serif;">{{app.current_movie_infomation[0].title}}</p>
                    </div>
                <div id="review">
                    <div id="exit_check_box">
                        <div id="exit_check_box_2">
                            <p>정말 나가실건가요?</p>
                            <button id="exit_check_box_yes" @click="app.click_exit_check_box_yes">네</button>
                            <button id="exit_check_box_no" @click="app.click_exit_check_box_no">아니요</button>
                        </div>
                    </div>
                    <div id="review_body">
                                <div id="info_body_fourth">
                                    <p>평점 매기기</p>
                                    <p id="grade_1" @click="app.click_grade_star(1)" v-if="app.grade_1 == true"><svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-star-fill" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                       <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.283.95l-3.523 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
                                    </svg></p>
                                    <p id="grade_1" v-else @click="app.click_grade_star(1)"><svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-star" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                       <path fill-rule="evenodd" d="M2.866 14.85c-.078.444.36.791.746.593l4.39-2.256 4.389 2.256c.386.198.824-.149.746-.592l-.83-4.73 3.523-3.356c.329-.314.158-.888-.283-.95l-4.898-.696L8.465.792a.513.513 0 0 0-.927 0L5.354 5.12l-4.898.696c-.441.062-.612.636-.283.95l3.523 3.356-.83 4.73zm4.905-2.767l-3.686 1.894.694-3.957a.565.565 0 0 0-.163-.505L1.71 6.745l4.052-.576a.525.525 0 0 0 .393-.288l1.847-3.658 1.846 3.658a.525.525 0 0 0 .393.288l4.052.575-2.906 2.77a.564.564 0 0 0-.163.506l.694 3.957-3.686-1.894a.503.503 0 0 0-.461 0z"/>
                                    </svg></p>

                                    <p v-if="app.grade_2 == true" id="grade_2" @click="app.click_grade_star(2)"><svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-star-fill" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                       <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.283.95l-3.523 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
                                    </svg></p>
                                    <p id="grade_2" v-else @click="app.click_grade_star(2)"><svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-star" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                       <path fill-rule="evenodd" d="M2.866 14.85c-.078.444.36.791.746.593l4.39-2.256 4.389 2.256c.386.198.824-.149.746-.592l-.83-4.73 3.523-3.356c.329-.314.158-.888-.283-.95l-4.898-.696L8.465.792a.513.513 0 0 0-.927 0L5.354 5.12l-4.898.696c-.441.062-.612.636-.283.95l3.523 3.356-.83 4.73zm4.905-2.767l-3.686 1.894.694-3.957a.565.565 0 0 0-.163-.505L1.71 6.745l4.052-.576a.525.525 0 0 0 .393-.288l1.847-3.658 1.846 3.658a.525.525 0 0 0 .393.288l4.052.575-2.906 2.77a.564.564 0 0 0-.163.506l.694 3.957-3.686-1.894a.503.503 0 0 0-.461 0z"/>
                                    </svg></p>

                                    <p v-if="app.grade_3 == true" id="grade_3" @click="app.click_grade_star(3)"><svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-star-fill" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                       <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.283.95l-3.523 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
                                    </svg></p>
                                    <p id="grade_3" v-else @click="app.click_grade_star(3)"><svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-star" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                       <path fill-rule="evenodd" d="M2.866 14.85c-.078.444.36.791.746.593l4.39-2.256 4.389 2.256c.386.198.824-.149.746-.592l-.83-4.73 3.523-3.356c.329-.314.158-.888-.283-.95l-4.898-.696L8.465.792a.513.513 0 0 0-.927 0L5.354 5.12l-4.898.696c-.441.062-.612.636-.283.95l3.523 3.356-.83 4.73zm4.905-2.767l-3.686 1.894.694-3.957a.565.565 0 0 0-.163-.505L1.71 6.745l4.052-.576a.525.525 0 0 0 .393-.288l1.847-3.658 1.846 3.658a.525.525 0 0 0 .393.288l4.052.575-2.906 2.77a.564.564 0 0 0-.163.506l.694 3.957-3.686-1.894a.503.503 0 0 0-.461 0z"/>
                                    </svg></p>

                                    <p v-if="app.grade_4 == true" id="grade_4" @click="app.click_grade_star(4)"><svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-star-fill" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                       <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.283.95l-3.523 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
                                    </svg></p>
                                    <p id="grade_4" v-else @click="app.click_grade_star(4)"><svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-star" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                       <path fill-rule="evenodd" d="M2.866 14.85c-.078.444.36.791.746.593l4.39-2.256 4.389 2.256c.386.198.824-.149.746-.592l-.83-4.73 3.523-3.356c.329-.314.158-.888-.283-.95l-4.898-.696L8.465.792a.513.513 0 0 0-.927 0L5.354 5.12l-4.898.696c-.441.062-.612.636-.283.95l3.523 3.356-.83 4.73zm4.905-2.767l-3.686 1.894.694-3.957a.565.565 0 0 0-.163-.505L1.71 6.745l4.052-.576a.525.525 0 0 0 .393-.288l1.847-3.658 1.846 3.658a.525.525 0 0 0 .393.288l4.052.575-2.906 2.77a.564.564 0 0 0-.163.506l.694 3.957-3.686-1.894a.503.503 0 0 0-.461 0z"/>
                                    </svg></p>

                                    <p v-if="app.grade_5 == true" id="grade_5" @click="app.click_grade_star(5)"><svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-star-fill" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                       <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.283.95l-3.523 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
                                    </svg></p>
                                    <p id="grade_5" v-else @click="app.click_grade_star(5)"><svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-star" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                       <path fill-rule="evenodd" d="M2.866 14.85c-.078.444.36.791.746.593l4.39-2.256 4.389 2.256c.386.198.824-.149.746-.592l-.83-4.73 3.523-3.356c.329-.314.158-.888-.283-.95l-4.898-.696L8.465.792a.513.513 0 0 0-.927 0L5.354 5.12l-4.898.696c-.441.062-.612.636-.283.95l3.523 3.356-.83 4.73zm4.905-2.767l-3.686 1.894.694-3.957a.565.565 0 0 0-.163-.505L1.71 6.745l4.052-.576a.525.525 0 0 0 .393-.288l1.847-3.658 1.846 3.658a.525.525 0 0 0 .393.288l4.052.575-2.906 2.77a.564.564 0 0 0-.163.506l.694 3.957-3.686-1.894a.503.503 0 0 0-.461 0z"/>
                                    </svg></p>


                                </div>

                                <div id="review_body_write">
                                    <textarea id="review_body_write_input" v-model="app.comment_content" @click="app.change_border_review_body_write_input" type="text" placeholder="관람평을 입력해주세요."></textarea>
                                    <p id="review_body_write_input_maximum">{{app.comment_content.length}}/100</p>
                                </div>

                                <div id="review_body_submit">
                                    <input id="review_body_submit_button" @click="app.insert_comment" type="button" value="제출" v-if="app.readmoviegradeinfo.length == 0">
                                    <input id="review_body_submit_button" @click="app.insert_comment_2" type="button" value="수정" v-else>
                                </div>
                    </div>
                </div>
            </div>
        `
    };
    var AdminComponent = {
        template: `
            <div id="default_div">

                <div id="admin">
                    <div id="first_header">
                        <svg @click="app.backbutton" width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-chevron-left" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                          <path fill-rule="evenodd" d="M11.354 1.646a.5.5 0 0 1 0 .708L5.707 8l5.647 5.646a.5.5 0 0 1-.708.708l-6-6a.5.5 0 0 1 0-.708l6-6a.5.5 0 0 1 .708 0z"/>
                        </svg>
                        <p id="first_header_title" @click="app.location_href('main')">Performation</p>

                        <p id="first_header_list" @click="app.vshow_list">
                            <svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-list" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                <path fill-rule="evenodd" d="M2.5 11.5A.5.5 0 0 1 3 11h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5zm0-4A.5.5 0 0 1 3 7h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5zm0-4A.5.5 0 0 1 3 3h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5z"/>
                            </svg>
                        </p>
                        <p id="first_header_search">
                            <svg id="first_header_search_svg" @click="app.location_href('search')" width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-search" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                              <path fill-rule="evenodd" d="M10.442 10.442a1 1 0 0 1 1.415 0l3.85 3.85a1 1 0 0 1-1.414 1.415l-3.85-3.85a1 1 0 0 1 0-1.415z"/>
                              <path fill-rule="evenodd" d="M6.5 12a5.5 5.5 0 1 0 0-11 5.5 5.5 0 0 0 0 11zM13 6.5a6.5 6.5 0 1 1-13 0 6.5 6.5 0 0 1 13 0z"/>
                            </svg>
                        </p>
                    </div>

                    <div id="admin_menu">
                        <p id="admin_menu_addMovie" @click="app.admin_menu_click('show_adder')">공연추가하기</p>
                        <p id="admin_menu_settingAccount">계정관리하기</p>
                        <p id="admin_menu_event" @click="app.add_event">이벤트 추가하기</p>
                        <p id="admin_menu_setting">설정</p>
                   </div>

                   <div id="admin_menu_event_box" v-show="app.vshow_admin_menu_event_box">
                        <div id="default_box">
                            <form id="admin_menu_event_box_form">
                                <input type="text" v-model="app.admin_event_title" placeholder="이벤트명을 작성하세요." />
                                <input type="text" v-model="app.admin_event_start_time" placeholder="시작시간을 작성하세요" />
                                <input type="text" v-model="app.admin_event_end_time" placeholder="종료시간을 작성하세요." />
                                <input type="text" v-model="app.admin_event_content" placeholder="이벤트 내용을 작성하세요" />
                                <input type="text" v-model="app.admin_event_img" placeholder="이미지 주소를 작성하세요." />
                                <input type="button" @click="app.admin_event_button" value="제출" />
                            </form>
                        </div>
                   </div>

                   <div id="admin_menu_show_adder" v-if="app.admin_menu_show_adder_vshow == true">
                        <div id="default_box">
                            <form id="admin_menu_show_adder_form">
                                <input type="text" v-model="app.admin_title" placeholder="title">
                                <input type="text" v-model="app.admin_start_time" placeholder="start_time">
                                <input type="text" v-model="app.admin_end_time" placeholder="end_time">
                                <input type="text" v-model="app.admin_address" placeholder="address">
                                <input type="text" v-model="app.admin_img" placeholder="img">
                                <input type="text" v-model="app.admin_movie_id" placeholder="movie_id">
                                <input type="button" value="Insert" @click="app.admin_menu_click_adder">
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        `
    };
    var InfoComponent = {
        template: `
            <div id="default_div">
                <div id="info">
                    <div id="sidebar_dimmed_2" @click="app.click_sidebar_dimmed_2"></div>
                    <div id="sidebar_dimmed_info" @click="app.click_sidebar_dimmed_info"></div>
                    <div id="first_header">
                        <svg @click="app.backbutton" width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-chevron-left" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                          <path fill-rule="evenodd" d="M11.354 1.646a.5.5 0 0 1 0 .708L5.707 8l5.647 5.646a.5.5 0 0 1-.708.708l-6-6a.5.5 0 0 1 0-.708l6-6a.5.5 0 0 1 .708 0z"/>
                        </svg>
                        <p id="first_header_title" @click="app.location_href('main')">Performation</p>
                        <p id="first_header_list" @click="app.vshow_list">
                            <svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-list" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                <path fill-rule="evenodd" d="M2.5 11.5A.5.5 0 0 1 3 11h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5zm0-4A.5.5 0 0 1 3 7h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5zm0-4A.5.5 0 0 1 3 3h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5z"/>
                            </svg>
                        </p>
                        <p id="first_header_search">

                            <svg id="first_header_search_svg" @click="app.location_href('search')" width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-search" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                              <path fill-rule="evenodd" d="M10.442 10.442a1 1 0 0 1 1.415 0l3.85 3.85a1 1 0 0 1-1.414 1.415l-3.85-3.85a1 1 0 0 1 0-1.415z"/>
                              <path fill-rule="evenodd" d="M6.5 12a5.5 5.5 0 1 0 0-11 5.5 5.5 0 0 0 0 11zM13 6.5a6.5 6.5 0 1 1-13 0 6.5 6.5 0 0 1 13 0z"/>
                            </svg>
                        </p>
                    </div>
                    <section>
                        <article v-for="item in app.readinfo">
                            <div id="info_body" v-if="item.id == app.infoid">
                                <div id="info_body_first" :style="app.background_img">
                                    <img id="info_body_first_img" :src="item.img">




                                </div>
                                <div id="info_body_second">
                                    <div id="info_body_second_left">
                                        <p id="info_body_first_title">{{item.title}}</p>

                                        <p id="info_body_first_grade_star_1" v-if="(item.grade / item.addcount) >= 1"><svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-star-fill" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                           <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.283.95l-3.523 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
                                        </svg></p>
                                        <p id="info_body_first_grade_star_1" v-else><svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-star" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                           <path fill-rule="evenodd" d="M2.866 14.85c-.078.444.36.791.746.593l4.39-2.256 4.389 2.256c.386.198.824-.149.746-.592l-.83-4.73 3.523-3.356c.329-.314.158-.888-.283-.95l-4.898-.696L8.465.792a.513.513 0 0 0-.927 0L5.354 5.12l-4.898.696c-.441.062-.612.636-.283.95l3.523 3.356-.83 4.73zm4.905-2.767l-3.686 1.894.694-3.957a.565.565 0 0 0-.163-.505L1.71 6.745l4.052-.576a.525.525 0 0 0 .393-.288l1.847-3.658 1.846 3.658a.525.525 0 0 0 .393.288l4.052.575-2.906 2.77a.564.564 0 0 0-.163.506l.694 3.957-3.686-1.894a.503.503 0 0 0-.461 0z"/>
                                        </svg></p>
                                        <p id="info_body_first_grade_star_2" v-if="(item.grade / item.addcount) >= 2"><svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-star-fill" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                           <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.283.95l-3.523 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
                                        </svg></p>
                                        <p id="info_body_first_grade_star_2" v-else><svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-star" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                           <path fill-rule="evenodd" d="M2.866 14.85c-.078.444.36.791.746.593l4.39-2.256 4.389 2.256c.386.198.824-.149.746-.592l-.83-4.73 3.523-3.356c.329-.314.158-.888-.283-.95l-4.898-.696L8.465.792a.513.513 0 0 0-.927 0L5.354 5.12l-4.898.696c-.441.062-.612.636-.283.95l3.523 3.356-.83 4.73zm4.905-2.767l-3.686 1.894.694-3.957a.565.565 0 0 0-.163-.505L1.71 6.745l4.052-.576a.525.525 0 0 0 .393-.288l1.847-3.658 1.846 3.658a.525.525 0 0 0 .393.288l4.052.575-2.906 2.77a.564.564 0 0 0-.163.506l.694 3.957-3.686-1.894a.503.503 0 0 0-.461 0z"/>
                                        </svg></p>

                                        <p id="info_body_first_grade_star_3" v-if="(item.grade / item.addcount) >= 3"><svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-star-fill" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                           <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.283.95l-3.523 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
                                        </svg></p>
                                        <p id="info_body_first_grade_star_3" v-else><svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-star" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                           <path fill-rule="evenodd" d="M2.866 14.85c-.078.444.36.791.746.593l4.39-2.256 4.389 2.256c.386.198.824-.149.746-.592l-.83-4.73 3.523-3.356c.329-.314.158-.888-.283-.95l-4.898-.696L8.465.792a.513.513 0 0 0-.927 0L5.354 5.12l-4.898.696c-.441.062-.612.636-.283.95l3.523 3.356-.83 4.73zm4.905-2.767l-3.686 1.894.694-3.957a.565.565 0 0 0-.163-.505L1.71 6.745l4.052-.576a.525.525 0 0 0 .393-.288l1.847-3.658 1.846 3.658a.525.525 0 0 0 .393.288l4.052.575-2.906 2.77a.564.564 0 0 0-.163.506l.694 3.957-3.686-1.894a.503.503 0 0 0-.461 0z"/>
                                        </svg></p>

                                        <p id="info_body_first_grade_star_4" v-if="(item.grade / item.addcount) >= 4"><svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-star-fill" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                           <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.283.95l-3.523 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
                                        </svg></p>
                                        <p id="info_body_first_grade_star_4" v-else><svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-star" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                           <path fill-rule="evenodd" d="M2.866 14.85c-.078.444.36.791.746.593l4.39-2.256 4.389 2.256c.386.198.824-.149.746-.592l-.83-4.73 3.523-3.356c.329-.314.158-.888-.283-.95l-4.898-.696L8.465.792a.513.513 0 0 0-.927 0L5.354 5.12l-4.898.696c-.441.062-.612.636-.283.95l3.523 3.356-.83 4.73zm4.905-2.767l-3.686 1.894.694-3.957a.565.565 0 0 0-.163-.505L1.71 6.745l4.052-.576a.525.525 0 0 0 .393-.288l1.847-3.658 1.846 3.658a.525.525 0 0 0 .393.288l4.052.575-2.906 2.77a.564.564 0 0 0-.163.506l.694 3.957-3.686-1.894a.503.503 0 0 0-.461 0z"/>
                                        </svg></p>

                                        <p id="info_body_first_grade_star_5" v-if="(item.grade / item.addcount) >= 5"><svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-star-fill" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                           <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.283.95l-3.523 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
                                        </svg></p>
                                        <p id="info_body_first_grade_star_5" v-else><svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-star" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                           <path fill-rule="evenodd" d="M2.866 14.85c-.078.444.36.791.746.593l4.39-2.256 4.389 2.256c.386.198.824-.149.746-.592l-.83-4.73 3.523-3.356c.329-.314.158-.888-.283-.95l-4.898-.696L8.465.792a.513.513 0 0 0-.927 0L5.354 5.12l-4.898.696c-.441.062-.612.636-.283.95l3.523 3.356-.83 4.73zm4.905-2.767l-3.686 1.894.694-3.957a.565.565 0 0 0-.163-.505L1.71 6.745l4.052-.576a.525.525 0 0 0 .393-.288l1.847-3.658 1.846 3.658a.525.525 0 0 0 .393.288l4.052.575-2.906 2.77a.564.564 0 0 0-.163.506l.694 3.957-3.686-1.894a.503.503 0 0 0-.461 0z"/>
                                        </svg></p>

                                        <p id="info_body_first_grade" v-if="item.grade != null">{{ (item.grade / item.addcount).toFixed(1)  }}</p>
                                        <p id="info_body_first_grade" v-else>0점</p>
                                        <p id="info_body_first_time">{{item.start_time}} ~ {{item.end_time}}</p>
                                        <p id="info_body_first_address">{{item.address}}</p>

                                    </div>


                                    <div id="info_body_second_right">
                                        <p v-if="app.check_this_favorites == true" id="info_body_third_favorites" @click="app.info_favorites_delete(item.id)">
                                            <svg  width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-heart-fill" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                              <path fill-rule="evenodd" d="M8 1.314C12.438-3.248 23.534 4.735 8 15-7.534 4.736 3.562-3.248 8 1.314z"/>
                                            </svg>
                                        </p>
                                        <p v-else id="info_body_third_favorites" @click="app.info_favorites_insert(item.id)">
                                            <svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-heart" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                              <path fill-rule="evenodd" d="M8 2.748l-.717-.737C5.6.281 2.514.878 1.4 3.053c-.523 1.023-.641 2.5.314 4.385.92 1.815 2.834 3.989 6.286 6.357 3.452-2.368 5.365-4.542 6.286-6.357.955-1.886.838-3.362.314-4.385C13.486.878 10.4.28 8.717 2.01L8 2.748zM8 15C-7.333 4.868 3.279-3.04 7.824 1.143c.06.055.119.112.176.171a3.12 3.12 0 0 1 .176-.17C12.72-3.042 23.333 4.867 8 15z"/>
                                            </svg>
                                        </p>
                                        <input id="info_body_second_right_button" @click="app.location_href('buy')" type="button" value="구매하러가기" />
                                    </div>
                                </div>

                                <div id="info_body_content">
                                    <span id="info_body_content_header">줄거리</span>
                                    <svg style="float:right;" width="1em" @click="app.click_info_body_content" v-show="app.vshow_plus_4" height="1em" viewBox="0 0 16 16" class="bi bi-plus" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                      <path fill-rule="evenodd" d="M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4z"/>
                                    </svg>
                                    <svg style="float:right;" width="1em" @click="app.click_info_body_content" v-show="!app.vshow_plus_4" height="1em" viewBox="0 0 16 16" class="bi bi-dash" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                      <path fill-rule="evenodd" d="M4 8a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7A.5.5 0 0 1 4 8z"/>
                                    </svg>
                                    <p id="info_body_content_p" v-show="app.vshow_info_body_content">
                                        남미 아르헨티나, 오케스트라, 빅 밴드를 앞세워 오로지 ‘춤’을 위한 반주에 부로가했던 ‘탱고’를 단숨에 현대 클래식의 한 장르로 승격시킨 ‘아스토르 피아졸라’.
                                        세계는 그가 만든 ‘새로은 탱고(누에보 탱고)’에 열광했고, 그가 내뿜었던 ‘피아졸라 스타일을 그리워했다. 피아졸라 사후, 1998년, 그의 이름을 따서 설립된 ’아스트로 피아졸라 재단‘은 무수히 많은 연주자들 가운데, 피아졸라의 감각적이고 탁월한 음악성을 올곧게 계승할 단 5명의 솔리스트들을 선발, 현재는 전세계에서 활약하고 있는 유일무이한 퀸텟으로 이끌었다. 바로 ’아스토르 피아졸라 퀸텟(Quinteto Astor Piazzolla)‘, 이들의 역사적인 첫 내한 공연이 펼쳐진다.
                                        “나의 탱고는 발을 위한 것이 아니라, 귀를 위한 것이다.”
                                    </p>
                                </div>

                                <div id="info_body_actor">
                                    <span id="info_body_actor_header">출연진</span>
                                    <svg style="float:right;" width="1em" @click="app.click_info_body_actor" v-show="app.vshow_plus_6" height="1em" viewBox="0 0 16 16" class="bi bi-plus" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                      <path fill-rule="evenodd" d="M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4z"/>
                                    </svg>
                                    <svg style="float:right;" width="1em" @click="app.click_info_body_actor" v-show="!app.vshow_plus_6" height="1em" viewBox="0 0 16 16" class="bi bi-dash" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                      <path fill-rule="evenodd" d="M4 8a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7A.5.5 0 0 1 4 8z"/>
                                    </svg>
                                    <p id="info_body_actor_p" v-show="app.vshow_info_body_actor">
                                        예술총감독 손욱 윤상운 연출 허복영 무대감독 박호천 음악코치 최승희<br>
                                        백작 박대용 고영호 백작부인 황윤정 박해미 피가로 이승우 한정현 수진나 양근화 왕기현 바르톨로 김태형 바질리오 천왕희 케루비노 김반석 마르첼리나 박보희
                                    </p>
                                </div>

                                <div id="info_body_movie_info">
                                    <span id="info_body_movie_info_header">상품관련정보</span>
                                    <svg style="float:right;" width="1em" @click="app.click_info_body_movie_info" v-show="app.vshow_plus_7" height="1em" viewBox="0 0 16 16" class="bi bi-plus" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                      <path fill-rule="evenodd" d="M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4z"/>
                                    </svg>
                                    <svg style="float:right;" width="1em" @click="app.click_info_body_movie_info" v-show="!app.vshow_plus_7" height="1em" viewBox="0 0 16 16" class="bi bi-dash" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                      <path fill-rule="evenodd" d="M4 8a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7A.5.5 0 0 1 4 8z"/>
                                    </svg>
                                    <p id="info_body_movie_info_p" v-show="app.vshow_info_body_movie_info">
                                        공연시간 120분<br>
                                        고객문의 010-7522-4649<br>
                                        관람등급 초등학생이상 관람가<br>
                                    </p>
                                </div>




                                <div id="info_body_fifth">
                                    <p id="info_body_fifth_header">극장위치
                                        <svg style="float:right;" width="1em" @click="app.vshow_plus_5_active" v-show="app.vshow_plus_5" height="1em" viewBox="0 0 16 16" class="bi bi-plus" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                          <path fill-rule="evenodd" d="M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4z"/>
                                        </svg>
                                        <svg style="float:right;" width="1em" @click="app.vshow_plus_5_active" v-show="!app.vshow_plus_5" height="1em" viewBox="0 0 16 16" class="bi bi-dash" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                          <path fill-rule="evenodd" d="M4 8a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7A.5.5 0 0 1 4 8z"/>
                                        </svg>
                                    </p>
                                    <div id="map" v-show="app.vshow_map">
                                    </div>
                                    <p id="map_distance">거리 : {{app.google_map_distance}} </p>
                                    <p id="map_time">시간 : {{app.google_map_time}}</p>
                                </div>
                            </div>
                        </article>
                    </section>

                    <section id="info_comment_section">
                        <p id="info_comment_section_p" style="text-align:center; background-color: white;">리뷰</p>
                        <input id="info_comment_section_button" @click="app.location_href_review" type="button" value="리뷰작성하기" />
                        <div id="info_comment_section_checkbox" v-show="app.vshow_info_comment_section_checkbox">
                            <div id="info_comment_section_checkbox_margin">
                                <p>평점을 이미 매긴 상태입니다.<br>다시 작성하시겠습니까?</p>
                                <input type="button" value="예" @click="app.info_comment_section_checkbox_yes"/>
                                <input type="button" value="아니요" @click="app.info_comment_section_checkbox_no"/>
                            </div>
                        </div>
                        <div id="info_comment_section_type">
                            <p id="info_comment_section_type_p_1" @click="app.change_info_comment_section_type_active">{{app.current_info_comment_section_type}}
                                <svg v-if="app.info_comment_section_type_active == false"  width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-caret-up" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                  <path fill-rule="evenodd" d="M3.204 11L8 5.519 12.796 11H3.204zm-.753-.659l4.796-5.48a1 1 0 0 1 1.506 0l4.796 5.48c.566.647.106 1.659-.753 1.659H3.204a1 1 0 0 1-.753-1.659z"/>
                                </svg>
                                <svg v-else width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-caret-down" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                  <path fill-rule="evenodd" d="M3.204 5L8 10.481 12.796 5H3.204zm-.753.659l4.796 5.48a1 1 0 0 0 1.506 0l4.796-5.48c.566-.647.106-1.659-.753-1.659H3.204a1 1 0 0 0-.753 1.659z"/>
                                </svg>
                            </p>
                        </div>
                        <div id="info_comment_section_type_box" v-show="app.vshow_info_comment_section_type_box">
                            <p @click="app.arrangement_review(1)">최신순
                                <svg style="float: right; display: block;" width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-check vshow_checked_info" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                    <path fill-rule="evenodd" d="M10.97 4.97a.75.75 0 0 1 1.071 1.05l-3.992 4.99a.75.75 0 0 1-1.08.02L4.324 8.384a.75.75 0 1 1 1.06-1.06l2.094 2.093 3.473-4.425a.236.236 0 0 1 .02-.022z"/>
                                </svg>
                            </p>
                            <p @click="app.arrangement_review(2)">인기순
                                <svg style="float: right; display: none;" width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-check vshow_checked_info" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                    <path fill-rule="evenodd" d="M10.97 4.97a.75.75 0 0 1 1.071 1.05l-3.992 4.99a.75.75 0 0 1-1.08.02L4.324 8.384a.75.75 0 1 1 1.06-1.06l2.094 2.093 3.473-4.425a.236.236 0 0 1 .02-.022z"/>
                                </svg>
                            </p>
                        </div>
                        <div id="main_header_border_bottommm"></div>
                        <article id="info_comment_section_article" v-for="item in app.readreview">
                            <div id="info_comment_section_article_first">
                                <img id="info_comment_section_article_first_img" src="../static/img/default_circle_image.png" />
                            </div>
                            <div id="info_comment_section_article_second">
                                <p id="info_comment_section_article_second_username">{{item.appusers.username}}</p>
                                <p id="info_comment_section_article_second_content">{{item.content}}</p>
                                <p id="info_comment_section_article_second_timestamp">{{item.timestamp}}</p>
                                <p id="info_comment_section_article_second_push" @click="app.push_appusers_id(item.id)">
                                    <div v-for="list in app.list_appusers_id" style="display: inline-block;">
                                        <div v-if="item.id == list.review_id" style="display: inline-block;">
                                            <svg style="cursor: pointer;" v-if="list.check == false" @click="app.push_appusers_id(item.id)" width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-heart" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                              <path fill-rule="evenodd" d="M8 2.748l-.717-.737C5.6.281 2.514.878 1.4 3.053c-.523 1.023-.641 2.5.314 4.385.92 1.815 2.834 3.989 6.286 6.357 3.452-2.368 5.365-4.542 6.286-6.357.955-1.886.838-3.362.314-4.385C13.486.878 10.4.28 8.717 2.01L8 2.748zM8 15C-7.333 4.868 3.279-3.04 7.824 1.143c.06.055.119.112.176.171a3.12 3.12 0 0 1 .176-.17C12.72-3.042 23.333 4.867 8 15z"/>
                                            </svg>
                                            <svg style="cursor: pointer;" v-else width="1em" @click="app.push_appusers_id(item.id)" height="1em" viewBox="0 0 16 16" class="bi bi-heart-fill" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                              <path fill-rule="evenodd" d="M8 1.314C12.438-3.248 23.534 4.735 8 15-7.534 4.736 3.562-3.248 8 1.314z"/>
                                            </svg>
                                            <span id="info_comment_section_article_second_pushCount">
                                                {{item.push}}
                                            </span>
                                        </div>
                                    </div>
                                </p>

                                <div id="info_comment_section_article_second_buttons" v-if="item.appusers_id == app.userid">
                                    <input id="info_comment_section_article_second_buttons_delete"  type="button" value="삭제" @click="app.comment_review_delete(item.id)"/>
                                    <input style="display: none;" type="button" value="수정" @click="app.comment_review_update(item.id)"/>
                                </div>
                            </div>
                        </article>
                        <article v-if="app.readreview.length == 0">
                            <p style="text-align: center;">댓글을 작성해주세요.</p>
                        </article>
                    </section>

<!--                    <div id="info_comment_banner">-->
<!--                        <p id="info_comment_banner_title">배너</p>-->
<!--                        <img id="info_comment_banner_img" src="../static/img/interpark_banner.png"/>-->
<!--                    </div>-->

                </div>
            </div>
        `
    }
    var UserSettingComponent = {
        template: `
            <div id="default_div">
                <div id="usersetting">
                    <div id="first_header">
                        <svg @click="app.backbutton" width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-chevron-left" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                          <path fill-rule="evenodd" d="M11.354 1.646a.5.5 0 0 1 0 .708L5.707 8l5.647 5.646a.5.5 0 0 1-.708.708l-6-6a.5.5 0 0 1 0-.708l6-6a.5.5 0 0 1 .708 0z"/>
                        </svg>
                        <p id="first_header_title" @click="app.location_href('main')">Performation</p>
                        <p id="first_header_list" @click="app.vshow_list">
                            <svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-list" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                <path fill-rule="evenodd" d="M2.5 11.5A.5.5 0 0 1 3 11h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5zm0-4A.5.5 0 0 1 3 7h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5zm0-4A.5.5 0 0 1 3 3h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5z"/>
                            </svg>
                        </p>
                    </div>
                    <div id="usersetting_box">
                        <div id="usersetting_box_before" v-show="app.vshow_usersetting_box_before">
                            <p style="font-size: 17px; margin-bottom: 5px;">본인인증을 위해 비밀번호를 입력해주세요.</p>
                            <input class="w-100" id="usersetting_box_before_input" type="password" v-model="app.pw" placeholder="비밀번호">
                            <p id="usersetting_user_check" v-show="app.vshow_usersetting_user_check_none">
                                <svg style="width:16px;" width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-info-circle" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                  <path fill-rule="evenodd" d="M8 15A7 7 0 1 0 8 1a7 7 0 0 0 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"/>
                                  <path d="M8.93 6.588l-2.29.287-.082.38.45.083c.294.07.352.176.288.469l-.738 3.468c-.194.897.105 1.319.808 1.319.545 0 1.178-.252 1.465-.598l.088-.416c-.2.176-.492.246-.686.246-.275 0-.375-.193-.304-.533L8.93 6.588z"/>
                                  <circle cx="8" cy="4.5" r="1"/>
                                </svg>
                                비밀번호를 입력해주세요.
                            </p>
                            <p id="usersetting_user_check" v-show="app.vshow_usersetting_user_check_wrong">
                                <svg style="width:16px;" width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-info-circle" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                  <path fill-rule="evenodd" d="M8 15A7 7 0 1 0 8 1a7 7 0 0 0 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"/>
                                  <path d="M8.93 6.588l-2.29.287-.082.38.45.083c.294.07.352.176.288.469l-.738 3.468c-.194.897.105 1.319.808 1.319.545 0 1.178-.252 1.465-.598l.088-.416c-.2.176-.492.246-.686.246-.275 0-.375-.193-.304-.533L8.93 6.588z"/>
                                  <circle cx="8" cy="4.5" r="1"/>
                                </svg>
                                비밀번호가 틀렸습니다. 다시 입력해주세요.
                            </p>
                            <btn v-if="app.pw != ''" class="w-100" @click="app.pwcheck" type="primary">제출</btn>
                            <btn v-else class="w-100" @click="app.pwcheck" style="background-color: #ebeef1">제출</btn>
                        </div>


                        <div id="usersetting_box_after" v-show="app.vshow_usersetting_box_after">
                            <div id="main_real_header">
                                <img id="main_real_header_img" src="../static/img/default_circle_image.png"  />
                                <p id="main_real_header_username">{{app.username}}</p>
                                <span id="main_real_header_email">{{app.userinfo.email}}</span>
                            </div>
                            <div id="usersetting_box_after_user_setting_title">
                                <span style="font-size: 25px; ">
                                    <svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-gear" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                      <path fill-rule="evenodd" d="M8.837 1.626c-.246-.835-1.428-.835-1.674 0l-.094.319A1.873 1.873 0 0 1 4.377 3.06l-.292-.16c-.764-.415-1.6.42-1.184 1.185l.159.292a1.873 1.873 0 0 1-1.115 2.692l-.319.094c-.835.246-.835 1.428 0 1.674l.319.094a1.873 1.873 0 0 1 1.115 2.693l-.16.291c-.415.764.42 1.6 1.185 1.184l.292-.159a1.873 1.873 0 0 1 2.692 1.116l.094.318c.246.835 1.428.835 1.674 0l.094-.319a1.873 1.873 0 0 1 2.693-1.115l.291.16c.764.415 1.6-.42 1.184-1.185l-.159-.291a1.873 1.873 0 0 1 1.116-2.693l.318-.094c.835-.246.835-1.428 0-1.674l-.319-.094a1.873 1.873 0 0 1-1.115-2.692l.16-.292c.415-.764-.42-1.6-1.185-1.184l-.291.159A1.873 1.873 0 0 1 8.93 1.945l-.094-.319zm-2.633-.283c.527-1.79 3.065-1.79 3.592 0l.094.319a.873.873 0 0 0 1.255.52l.292-.16c1.64-.892 3.434.901 2.54 2.541l-.159.292a.873.873 0 0 0 .52 1.255l.319.094c1.79.527 1.79 3.065 0 3.592l-.319.094a.873.873 0 0 0-.52 1.255l.16.292c.893 1.64-.902 3.434-2.541 2.54l-.292-.159a.873.873 0 0 0-1.255.52l-.094.319c-.527 1.79-3.065 1.79-3.592 0l-.094-.319a.873.873 0 0 0-1.255-.52l-.292.16c-1.64.893-3.433-.902-2.54-2.541l.159-.292a.873.873 0 0 0-.52-1.255l-.319-.094c-1.79-.527-1.79-3.065 0-3.592l.319-.094a.873.873 0 0 0 .52-1.255l-.16-.292c-.892-1.64.902-3.433 2.541-2.54l.292.159a.873.873 0 0 0 1.255-.52l.094-.319z"/>
                                      <path fill-rule="evenodd" d="M8 5.754a2.246 2.246 0 1 0 0 4.492 2.246 2.246 0 0 0 0-4.492zM4.754 8a3.246 3.246 0 1 1 6.492 0 3.246 3.246 0 0 1-6.492 0z"/>
                                    </svg>
                                    개인정보설정
                                </span>
                                <svg style="float:right;" width="1em" @click="app.click_vshow_usersetting_box_after_user_setting" v-show="app.vshow_plus" height="1em" viewBox="0 0 16 16" class="bi bi-plus" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                  <path fill-rule="evenodd" d="M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4z"/>
                                </svg>
                                <svg style="float:right;" width="1em" @click="app.click_vshow_usersetting_box_after_user_setting" v-show="!app.vshow_plus" height="1em" viewBox="0 0 16 16" class="bi bi-dash" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                  <path fill-rule="evenodd" d="M4 8a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7A.5.5 0 0 1 4 8z"/>
                                </svg>
                            </div>
                            <div id="usersetting_box_after_user_setting" v-show="app.vshow_usersetting_box_after_user_setting">
                                <p id="main_header_p_4" @click="app.click_change_username(4)">닉네임변경</p>
                                <p id="main_header_p_5" @click="app.click_change_password(5)">비밀번호변경</p>
                                <div id="main_header_border_bottom"></div>
                                <div id="default_box" class="vshow_true" v-show="app.vshow_username_change">
                                    <p id="default_box_p" style="width: 100%; color: gray;">변경하실 닉네임을 적으세요.</p>
                                    <input type="text" v-model="app.change_username" class="change_username" id="default_input" placeholder="username">
                                    <p style="font-size: 13px; color: red; font-weight: bold; width: 100%; text-align: center;" v-show="app.change_username_vshow">
                                        <svg style="width:16px;" width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-info-circle" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                          <path fill-rule="evenodd" d="M8 15A7 7 0 1 0 8 1a7 7 0 0 0 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"/>
                                          <path d="M8.93 6.588l-2.29.287-.082.38.45.083c.294.07.352.176.288.469l-.738 3.468c-.194.897.105 1.319.808 1.319.545 0 1.178-.252 1.465-.598l.088-.416c-.2.176-.492.246-.686.246-.275 0-.375-.193-.304-.533L8.93 6.588z"/>
                                          <circle cx="8" cy="4.5" r="1"/>
                                        </svg>
                                        이미 존재하는 닉네임입니다.</p>
                                    <input id="change_button" type="button" value="제출" @click="app.Changeusername">
                                </div>

                                <div id="default_box" class="vshow_true" v-show="app.vshow_password_change">
                                    <p id="default_box_p" style="width: 100%; color: gray;">변경하실 비밀번호를 적으세요.</p>
                                    <input type="password" v-model="app.change_password" class="change_password" id="default_input" placeholder="Password">
                                    <p style="font-size: 24px; color: red; font-weight: bold;" v-show="app.change_password_vshow">이미 존재하는 닉네임입니다.</p>
                                    <input id="change_button" type="button" value="제출" @click="app.Changepassword">
                                </div>
                            </div>

                            <div id="usersetting_box_after_ticket_locker" style="display: none;">
                                <span style="font-size: 25px;">
                                <svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-credit-card-2-front" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                  <path fill-rule="evenodd" d="M14 3H2a1 1 0 0 0-1 1v8a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V4a1 1 0 0 0-1-1zM2 2a2 2 0 0 0-2 2v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2H2z"/>
                                  <path d="M2 5.5a.5.5 0 0 1 .5-.5h2a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1-.5-.5v-1z"/>
                                  <path fill-rule="evenodd" d="M2 8.5a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5zm0 2a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 0 1h-1a.5.5 0 0 1-.5-.5zm3 0a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 0 1h-1a.5.5 0 0 1-.5-.5zm3 0a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 0 1h-1a.5.5 0 0 1-.5-.5zm3 0a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 0 1h-1a.5.5 0 0 1-.5-.5z"/>
                                </svg>
                                보관함
                                </span>
                                <svg @click="app.click_vshow_plus_2" style="float:right;" width="1em" v-show="app.vshow_plus_2" height="1em" viewBox="0 0 16 16" class="bi bi-plus" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                  <path fill-rule="evenodd" d="M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4z"/>
                                </svg>
                                <svg @click="app.click_vshow_plus_2" style="float:right;" width="1em" v-show="!app.vshow_plus_2" height="1em" viewBox="0 0 16 16" class="bi bi-dash" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                  <path fill-rule="evenodd" d="M4 8a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7A.5.5 0 0 1 4 8z"/>
                                </svg>
                            </div>

                            <div id="scanner_controller" v-if="app.userinfo.isadmin == true">
                                <p id="scanner_controller_header" @click="app.click_scanner_controller">QR스캐너
                                    <svg style="float:right;" width="1em" v-show="app.vshow_plus_QR" height="1em" viewBox="0 0 16 16" class="bi bi-plus" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                      <path fill-rule="evenodd" d="M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4z"/>
                                    </svg>
                                    <svg style="float:right;" width="1em" v-show="!app.vshow_plus_QR" height="1em" viewBox="0 0 16 16" class="bi bi-dash" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                      <path fill-rule="evenodd" d="M4 8a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7A.5.5 0 0 1 4 8z"/>
                                    </svg>
                                </p>
                                <button id="scanner_controller_ok" @click="app.delete_user_ticket">입장확인</button>
                            </div>
                        </div>

                    </div>
                </div>
            </div>
        `
    }
    var BuyComponent = {
        template: `
            <div id="default_div">
                <div id="loading_box">
                    <img id="loading_box_img" src="../static/img/1_8NJgObmgEVhNWVt3poeTaA.gif" />
                    <p id="loading_box_content">잠시만 기다려주세요.</p>
                    <button id="loading_box_button_yes" @click="app.buy_after_location('locker')">예</button>
                    <button id="loading_box_button_no" @click="app.buy_after_location('main')">아니오</button>
                </div>
                <div id="buy">
                    <div id="first_header">
                        <svg @click="app.backbutton" width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-chevron-left" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                          <path fill-rule="evenodd" d="M11.354 1.646a.5.5 0 0 1 0 .708L5.707 8l5.647 5.646a.5.5 0 0 1-.708.708l-6-6a.5.5 0 0 1 0-.708l6-6a.5.5 0 0 1 .708 0z"/>
                        </svg>
                        <p id="first_header_title" @click="app.location_href('main')">Performation</p>
                        <p id="first_header_list" @click="app.vshow_list">
                            <svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-list" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                <path fill-rule="evenodd" d="M2.5 11.5A.5.5 0 0 1 3 11h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5zm0-4A.5.5 0 0 1 3 7h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5zm0-4A.5.5 0 0 1 3 3h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5z"/>
                            </svg>
                        </p>
                    </div>
                    <div id="buy_box">
                        <div id="buy_box_first">
                            <p id="buy_box_first_serial_number">티켓번호: {{app.serial_number_ticket}}</p>
                            <div id="buy_box_first_img">
                                <img id="buy_box_first_poster" @click="app.location_info_href('info', app.infoid)" :src="app.buy_image" />
                            </div>

                            <div id="buy_box_first_right">
                                <p>시작일 <span>{{app.buy_time}}</span></p>
                                <p>가격 <span>{{app.buy_point}}p</span></p>
                                <input id="buy_box_first_right_button" type="button" @click="app.buy_this_ticket(app.buy_point, app.serial_number_ticket, app.infoid)" value="구매하기" />
                            </div>
                        </div>
                        <div id="buy_box_second">
                            <div id="buy_box_infomation">
                                <div id="buy_box_left_infomation_first">
                                    <p id="buy_box_left_infomation_first_title">티켓베이 구매 안전 프로그램</p>
                                    <ul id="buy_box_left_infomation_first_ul">
                                        <li>티켓베이에 모든 판매자는 본인인증(이동통신사 또는 아이핀 등)이 완료된 회원입니다.</li>
                                        <li>결제하시는 대금은 티켓베이가 안전하게 보관하며, 티켓을 수령 후 구매확정을 하면 판매자에게 지급됩니다.</li>
                                        <li>티켓베이는 공연이 취소될 경우 100% 환불을 보장합니다.</li>
                                        <li>티켓베이는 안전한 거래를 위해 고객센터를 운영하고 있습니다. 문의가 있으시면 언제든 연락주세요.</li>
                                    </ul>
                                </div>

                                <div id="buy_box_left_infomation_second">
                                    <p id="buy_box_left_infomation_second_title">티켓베이 입장안심 서비스</p>
                                    <ul id="buy_box_left_infomation_second_ul">
                                        <li>가고 싶고 사고 싶은 티켓인데 구매하기 고민되신다면?! 입장안심서비스를 이용하세요.</li>
                                        <li>현장에서 입장을 거부 당할 경우, 티켓베이가 티켓 결제 금액을 전액 보상해드립니다.</li>
                                        <li>카테고리 및 상품에 따라 이용이 불가능 할 수도 있습니다.</li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        `
    }
    var LockerComponent = {
        template: `
            <div id="default_div">
                    <div id="QR_loading_box">
                        <img id="QR_loading_box_img" src="../static/img/1_8NJgObmgEVhNWVt3poeTaA.gif" />
                        <p id="QR_loading_box_content">잠시만 기다려주세요.</p>
                        <button id="QR_loading_box_yes" @click="app.QR_loading_box_yes">확인</button>
                    </div>
                <div id="locker">
                    <div id="first_header">
                        <svg @click="app.backbutton" width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-chevron-left" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                          <path fill-rule="evenodd" d="M11.354 1.646a.5.5 0 0 1 0 .708L5.707 8l5.647 5.646a.5.5 0 0 1-.708.708l-6-6a.5.5 0 0 1 0-.708l6-6a.5.5 0 0 1 .708 0z"/>
                        </svg>
                        <p id="first_header_title" @click="app.location_href('main')">Performation</p>
                        <p id="first_header_list" @click="app.vshow_list">
                            <svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-list" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                <path fill-rule="evenodd" d="M2.5 11.5A.5.5 0 0 1 3 11h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5zm0-4A.5.5 0 0 1 3 7h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5zm0-4A.5.5 0 0 1 3 3h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5z"/>
                            </svg>
                        </p>
                    </div>
                    <div id="locker_box">
                        <div id="locker_box_header">
                            <p>티켓보관함</p>
                        </div>
                        <section id="locker_box_section">
                            <article id="" v-if="app.appusers_locker.length == 0">
                                <p style="text-align: center;"> 티켓이 존재하지 않습니다.</p>
                            </article>
                            <article id="locker_box_section_article" v-for="(item, index) in app.appusers_locker">
                                <div id="locker_box_section_article_first">
                                    <p id="locker_box_section_article_first_title">{{item.info_id.title}}<span id="locker_box_section_article_first_title_span">({{app.readinfo_type[item.info_id.movie_id-1]}})</span></p>
                                </div>
                                <div id="locker_box_section_article_second">
                                    <p id="locker_box_section_article_second_serial">고유번호: {{item.serial_number}} </p>
                                </div>
                                <div id="locker_box_section_article_third_border">
                                    <div id="locker_box_section_article_third">

                                        <p style="font-size: 15px; color: black;">날짜: <span style="font-size: 16px; color: red; font-weight: bold;">{{ item.info_id.start_time }}</span></p>
                                        <p style="font-size: 15px; color: black;">장소: {{ item.info_id.address }}</p>
                                        <p style="font-size: 15px; color: black;">좌석: 4관 2열</p>
                                    </div>
                                    <div id="locker_box_section_article_third_right">
<!--                                        <button id="locker_box_section_article_third_button" @click="app.click_locker_box_section_article_third_button(item.info_id.img)">이미지</button>-->
<!--                                        <button id="locker_box_section_article_third_right_QRcode" @click="app.click_locker_box_section_article_third_right_QRcode">QR코드</button>-->
                                        <img style="width: 150px;" :src="item.qrcode"/>
                                    </div>


                                </div>
                                <div id="locker_box_section_article_fourth" @click="app.click_locker_box_section_article_fourth(index)">
                                    <span style="font-size: 20px;">줄거리</span>
                                    <svg style="float:right;" width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-plus locker_plus_3" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                      <path fill-rule="evenodd" d="M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4z"/>
                                    </svg>
                                    <svg style="float:right; display: none;" width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-dash locker_minus_3" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                      <path fill-rule="evenodd" d="M4 8a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7A.5.5 0 0 1 4 8z"/>
                                    </svg>
                                    <p id="locker_box_section_article_fourth_content" class="locker_box_section_article_fourth_content" v-show="app.locker_vshow_content">
                                        남미 아르헨티나, 오케스트라, 빅 밴드를 앞세워 오로지 ‘춤’을 위한 반주에 부로가했던 ‘탱고’를 단숨에 현대 클래식의 한 장르로 승격시킨 ‘아스토르 피아졸라’.
                                        세계는 그가 만든 ‘새로은 탱고(누에보 탱고)’에 열광했고, 그가 내뿜었던 ‘피아졸라 스타일을 그리워했다. 피아졸라 사후, 1998년, 그의 이름을 따서 설립된 ’아스트로 피아졸라 재단‘은 무수히 많은 연주자들 가운데, 피아졸라의 감각적이고 탁월한 음악성을 올곧게 계승할 단 5명의 솔리스트들을 선발, 현재는 전세계에서 활약하고 있는 유일무이한 퀸텟으로 이끌었다. 바로 ’아스토르 피아졸라 퀸텟(Quinteto Astor Piazzolla)‘, 이들의 역사적인 첫 내한 공연이 펼쳐진다.
                                        “나의 탱고는 발을 위한 것이 아니라, 귀를 위한 것이다.”
                                    </p>
                                </div>
                                <div id="locker_box_section_article_fifth">
                                    <p id="locker_box_section_article_fifth_buy_time">티켓구매일자: {{item.buy_time}}</p>
                                </div>
                            </article>
                        </section>
                    </div>
                </div>
                                    <div id="info_img_box" v-show="app.vshow_info_img_box">
                                        <svg @click="app.close_info_img_box" width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-x" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                            <path fill-rule="evenodd" d="M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z"/>
                                        </svg>
                                        <img style="width: 210px; height: 300px;" :src="app.info_img_box" />
                                    </div>
                                    <div id="QRcode_box" v-show="app.vshow_QRcode_box">
                                        <svg @click="app.close_QRcode_box" width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-x" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                            <path fill-rule="evenodd" d="M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z"/>
                                        </svg>
                                        <img style="width: 200px; height: 200px;" src="../static/img/QRcode.png"/>
                                    </div>
            </div>
        `
    }
    var rou = new VueRouter({
        routes : [
            {
                path: '/',
                component: LoadingComponent
            },
            {
                path: '/usersetting',
                component: UserSettingComponent
            },
            {
                path: '/main',
                component: MainComponent
            },
            {
                path: '/setting',
                component: SettingComponent
            },
            {
                path: '/signin',
                component: SignInComponent
            },
            {
                path: '/login',
                component: LoginComponent
            },
            {
                path: '/search',
                component: SearchComponent
            },
            {
                path: '/favorites',
                component: FavoritesComponent
            },
            {
                path: '/review',
                component: ReviewComponent
            },
            {
                path: '/admin',
                component: AdminComponent
            },
            {
                path: '/info',
                component: InfoComponent
            },
            {
                path: '/buy',
                component: BuyComponent
            },
            {
                path: '/locker',
                component: LockerComponent
            },

        ],
    })

    rou.afterEach(function (to, from) {
        $("#scanner_box").css("display", "none");
        if( to.path == '/signin') {
            $('#app').css('overflow', 'hidden');
            $('#location_top').css('display', 'none');
        }
        app.comment_content = '';
        if(app.info_search != '') {
            if( to.path != '/search') {         // 만약 서치 페이지로 가지 않는다면,
                app.info_search = '';           // 검색창의 문자를 초기화한다.
            }
        }
        if(to.path=='/search') {
            var scrollPosition = $("#app").offset().top;
            $("#app").animate({
                scrollTop: scrollPosition
            }, 500);
        }
        console.log(to.path);
        if( to.path == '/review') {
            var scrollPosition = $("#app").offset().top;
            $("#app").animate({
                scrollTop: scrollPosition
            }, 500);
            $("#app").css("overflow", "hidden");
            $("#location_top").css("display", "none");
            console.log("readmoviegradeinfo :", app.readmoviegradeinfo);
            if( app.readmoviegradeinfo.length == 0 ) {
                app.grade_1 = false;
                app.grade_2 = false;
                app.grade_3 = false;
                app.grade_4 = false;
                app.grade_5 = false;
            }
        }

        if( to.path == '/locker') {
            axios.get('/appuserslocker', {
                params :{
                    appusers_id: app.userid,
                }
            }).then(function(res) {
                console.log(res.data);
                app.appusers_locker = res.data;
                for(var i=0; i<app.appusers_locker.length; i++) {
                    for(var j=0; j<app.readinfo.length; j++) {
                        if(app.readinfo[j].id == app.appusers_locker[i].info_id) {
                            app.appusers_locker[i].info_id = app.readinfo[j];
                        }
                    }
                }
            }).catch(function(err) {
                console.log(err);
            });
        }

        if( to.path == '/main') {
            var i = app.change_genre_data;
            setTimeout(()=> {
                app.change_genre(i);
            }, 500);

            var scrollPosition = $("#app").offset().top;
            $("#app").animate({
                scrollTop: scrollPosition
            }, 500);

            $("#app").css("overflow","auto");
            $('#location_top').css('display', 'block');
            app.main_body_section_1_vshow = true;
            app.main_body_section_2_vshow = false;
            app.main_body_section_3_vshow = false;
            if( app.userid == '') {
                rou.push({path:'/login'});
            } else {
                if(app.list_vshow == true) {
                    app.vshow_list();
                }
                app.menu_vshow = true;
                return;
            }
        } else if ( to.path == '/login') {
            $("#app").css("overflow", "hidden");
            $('#location_top').css('display', 'none');
            app.path += ',login';
            console.log(app.path);
            if(app.userid != '') {
                app.path += ',main';
                rou.push({path:'/main'});
            } else {
                app.menu_vshow = false;
                if( app.list_vshow == true) {
                    app.vshow_list();
                    return;
                }
                var str = app.path.split(",");
                console.log(str[1]);
                if (str[str.length-1] == 'login') {
                    return;
                } else {
                    console.log("여기");
                    rou.push({path:'/login'});
                }
            }

        }
        if( to.path == '/usersetting') {
            var scrollPosition = $("#app").offset().top;
            $("#app").animate({
                scrollTop: scrollPosition
            }, 500);
        }

        if( to.path == '/info') {
            $("#location_top").css("display", "block");
            $("#app").css("overflow", "auto");
            app.vshow_info_comment_section_checkbox = false;
            app.infoid = rou.currentRoute.query.id;
            axios.get('/readreview', {
                params : {
                    readinfo_id: app.infoid,
                }
            }).then(function (res) {
                app.readreview = res.data;                      // timestamp 변환
                var currentdate = new Date();
                var datetime = currentdate.getFullYear() + "-"
                + (currentdate.getMonth()+1)  + "-"
                + currentdate.getDate() + "-"
                + currentdate.getHours() + ":"
                + currentdate.getMinutes() + ":"
                + currentdate.getSeconds();
                console.log("현재시간: ",datetime);
                var arr = datetime.split("-");
                for(var i=0; i<app.readreview.length; i++) {
                    var str = app.readreview[i].timestamp.replace(' ', '-');
                    var readreview_datetime = str.split("-");
                    if( readreview_datetime[0] == arr[0] ) {
                        if( readreview_datetime[1] == arr[1] ) {
                            if( readreview_datetime[2] == arr[2] ) {
                                app.readreview[i].timestamp = "오늘";
                            } else {
                                app.readreview[i].timestamp = arr[2] - readreview_datetime[2] + "일 전";
                            }
                        } else {
                            app.readreview[i].timestamp = arr[1] - readreview_datetime[1] + "달 전"
                        }
                    }
                }
                console.log("readreview :", res.data);
                for(var i=0; i<res.data.length; i++) {
                    var item = res.data[i].push_appusers_id;
                    var str = item.split(',');
                    for(var j=0; j<str.length; j++) {
                        if(str[j] == app.userid) {
                            app.list_appusers_id[i] = {
                                "review_id": res.data[i].id,
                                "check": true,
                            }
                        } else {
                            app.list_appusers_id[i] = {
                                "review_id": res.data[i].id,
                                "check": false,
                            }
                        }
                    }
                }
                app.arrangement_review(1);
                console.log(app.readreview);
                console.log("app.list_appusers_id: ", app.list_appusers_id);
                axios.get('/readMovieGradeInfo', {
                    params: {
                        info_id: app.infoid,
                        appusers_id: app.userid,
                    }
                }).then(function(res) {
                    console.log("this:",res.data);
                    app.readmoviegradeinfo = res.data;
                    console.log("readmoviegradeinfo: ", app.readmoviegradeinfo);
                    if( app.readmoviegradeinfo.length != 0 ) {          // 평점을 매긴 상태.
                        if( app.readmoviegradeinfo[0].grade == 1 ) {
                            app.grade_1 = true;
                            app.grade_2 = false;
                            app.grade_3 = false;
                            app.grade_4 = false;
                            app.grade_5 = false;
                        } else if ( app.readmoviegradeinfo[0].grade == 2 ) {
                            app.grade_1 = true;
                            app.grade_2 = true;
                            app.grade_3 = false;
                            app.grade_4 = false;
                            app.grade_5 = false;
                        } else if ( app.readmoviegradeinfo[0].grade == 3 ) {
                            app.grade_1 = true;
                            app.grade_2 = true;
                            app.grade_3 = true;
                            app.grade_4 = false;
                            app.grade_5 = false;
                        } else if ( app.readmoviegradeinfo[0].grade == 4 ) {
                            app.grade_1 = true;
                            app.grade_2 = true;
                            app.grade_3 = true;
                            app.grade_4 = true;
                            app.grade_5 = false;
                        } else if ( app.readmoviegradeinfo[0].grade == 5 ) {
                            app.grade_1 = true;
                            app.grade_2 = true;
                            app.grade_3 = true;
                            app.grade_4 = true;
                            app.grade_5 = true;
                        }
                    } else {                                            // 평점을 매기지 않은 상태.
                        app.grade_1 = false;
                        app.grade_2 = false;
                        app.grade_3 = false;
                        app.grade_4 = false;
                        app.grade_5 = false;
                        console.log("평점을 매기지 않았습니다.");
                    }
                }).catch(function(err) {    // moviegradeinfo 가 존재 하지 않음.
                    app.readmoviegradeinfo = [];
                    console.log(err);
                });
            }).catch(function(err) {        // review 가 하나도 존재 하지 않음.
                console.log(err);
                app.readmoviegradeinfo = [];
            });

            for(var i=0; i<app.readFavorites.length; i++) {
                if(app.readFavorites[i].readinfo_id == to.query.id) {
                    console.log("즐겨찾기확인");
                    app.check_this_favorites = true;
                } else {
                    app.check_this_favorites = false;
                }
            }

            for(var i=0; i<app.readinfo.length; i++) {
                if(app.readinfo[i].id == app.infoid) {
                    app.background_img = 'background: url(';
                    app.background_img += app.readinfo[i].img;
                    app.background_img += ');';

                    app.background_img += 'background-repeat: no-repeat; background-size: 100% 500px; background-position-y: -100px;';
                    app.background_img += 'animation-iteration-count: infinite;';
                    app.background_img += 'animation-delay: 1s; animation-name: backgroundyDown; animation-duration: 10s;';

                    //console.log(app.background_img);
                }
            }
            if( sessionStorage.getItem("info") != null) {
                var info = sessionStorage.getItem("info");
                var str = info.split(",");
                var isfail = false;
                for(var i=0; i<str.length; i++) {
                    if(str[i] == app.infoid) {              // 이미 최근 본 상품이라면,
                        isfail = true;
                    }
                }
                if(isfail == true) {
                    console.log("이미 본 상품입니다.");
                } else {
                    info += ","+app.infoid;
                    var str = info.split(",");
                    app.latest_item = str;
                    for(var i=0; i<app.readinfo.length; i++) {
                        for(var j=0; j<app.latest_item.length; j++) {
                            if(app.readinfo[i].id == app.latest_item[j] ) {
                                app.latest_item[j] = app.readinfo[i].img;
                            }
                        }
                    }
                    sessionStorage.setItem("info", info);
                }
            } else {
                var info = app.infoid;
                sessionStorage.setItem("info", info);
                app.latest_item = info.split(",");
                for(var i=0; i<app.readinfo.length; i++) {
                    if(app.readinfo[i].id == app.infoid) {
                        app.latest_item[0] = app.readinfo[i].img;
                        break;
                    }
                }
                console.log("최근 본 상품: ",app.latest_item);
            }

            var myScript = document.createElement('script');
            myScript.setAttribute('src', 'https://maps.googleapis.com/maps/api/js?key=AIzaSyDKojS4nQ2I1bZkxtO2Yqu30RyyJPl4MjY&callback=initMap&libraries=&v=weekly');
            myScript.setAttribute('async', '');
            myScript.onload = function() {
            }
            document.getElementById('head').appendChild(myScript);

            for(var i=0; i<app.readinfo.length; i++) {
                if(app.readinfo[i].id == app.infoid) {
                    if(app.readinfo[i].address == "을숙도문화회관") {
                        app.current_locations_lat = 35.110009;
                        app.current_locations_lng = 128.944716;
                    } else if(app.readinfo[i].address == "부산문화회관") {
                        app.current_locations_lat = 35.127324;
                        app.current_locations_lng = 129.093607;
                    } else if(app.readinfo[i].address == "금정문화회관") {  // 35.245908, 129.094450
                        app.current_locations_lat = 35.245908;
                        app.current_locations_lng = 129.094450;
                    } else if(app.readinfo[i].address == "부산시민회관") { // 35.138921, 129.065223
                        app.current_locations_lat = 35.138921;
                        app.current_locations_lng = 129.065223;
                    } else if(app.readinfo[i].address == "부산메트로홀") { // 35.157046, 129.113013
                        app.current_locations_lat = 35.157046;
                        app.current_locations_lng = 129.113013;
                    } else if(app.readinfo[i].address == "초콜릿팩토리") {  // 35.136625, 129.099108
                        app.current_locations_lat = 35.136625;
                        app.current_locations_lng = 129.099108;
                    } else if(app.readinfo[i].address == "초록마술극장") {
                        app.current_locations_lat = 35.241959;
                        app.current_locations_lng = 129.095679;
                    } else if(app.readinfo[i].address == "BNK부산은행 조은극장") { // 35.127736, 129.092825
                        app.current_locations_lat = 35.098309;
                        app.current_locations_lng = 129.032325;
                    } else if(app.readinfo[i].address == "BNK부산은행 조은극장") { // 35.127736, 129.092825
                        app.current_locations_lat = 35.127736;
                        app.current_locations_lng = 129.092825;
                    } else if(app.readinfo[i].address == "벡스코 오디토리움") { // 35.169138, 129.133525
                        app.current_locations_lat = 35.169138;
                        app.current_locations_lng = 129.133525;
                    } else if(app.readinfo[i].address == "KBS홀") { // 35.145190, 129.109045
                        app.current_locations_lat = 35.145190;
                        app.current_locations_lng = 129.109045;
                    } else if(app.readinfo[i].address == "소향씨어터") { // 35.172883, 129.127722
                        app.current_locations_lat = 35.172883;
                        app.current_locations_lng = 129.127722;
                    } else if(app.readinfo[i].address == "드림씨어터") { // 35.148440, 129.065389
                        app.current_locations_lat = 35.148440;
                        app.current_locations_lng = 129.065389;
                    } else if(app.readinfo[i].address == "레디움아트센터") { // 35.160253, 129.166587
                        app.current_locations_lat = 35.160253;
                        app.current_locations_lng = 129.166587;
                    } else if(app.readinfo[i].address == "영화의전당") { // 35.171189, 129.127211
                        app.current_locations_lat = 35.171189;
                        app.current_locations_lng = 129.127211;
                    }
                }
            }
            var scrollPosition = $("#app").offset().top;
            console.log("scrollPosition: ",scrollPosition);
            $("#app").animate({
                scrollTop: scrollPosition
            }, 500);
            axios.get('/increment_view', {
                params: {
                    id: app.infoid,
                }
            }).then(function(res) {
                app.current_movie_infomation = res.data;
                console.log("current_movie_infomation: ",res.data);
                for(var i=0; i<app.readinfo.length; i++) {
                    if(app.readinfo[i].id == app.infoid) {
                        app.readinfo[i].view_count = res.data[0].view_count;
                    }
                }
            }).catch(function(err) {
                console.log("increment_view :", err);
            });

        }

        if (to.path == '/favorites') {
            axios.get('/readFavorites', {
                params: {
                    appusers_id: app.userid
                }
            }).then(function(res) {
                console.log("readFavorites: ",res.data);
                app.readFavorites = res.data;
            }).catch(function(err) {
                console.log(err);
            });

            var scrollPosition = $("#app").offset().top;
            console.log("scrollPosition: ",scrollPosition);
            $("#app").animate({
                scrollTop: scrollPosition
            }, 500);
        }

        if(to.path == '/search') {
            try {
                var list = sessionStorage.getItem("search_list");
                app.latest_search_list = list;
                var arr = list.split(",");
            } catch(e) {
                console.log("최근검색어가 없습니다.");
                app.latest_search_list = '';
            }

            if( list == '' ) {
                app.latest_search_list = list;
            } else {
                app.latest_search_list_array = arr;
            }
        }

        if(to.path == '/buy') {
            var str = "";
            for(var i=0; i<3; i++) {
                str += Math.floor(Math.random() * 10000);
                if(i==2) {
                    break;
                } else {
                    str += "-";
                }
            }
            app.serial_number_ticket = str;
            for(var i=0; i<app.readinfo.length; i++) {
                if(app.readinfo[i].id == app.infoid) {
                    app.buy_point = app.readinfo[i].point;
                    app.buy_image = app.readinfo[i].img;
                    app.buy_time = app.readinfo[i].start_time;
                }
            }
            console.log(app.buy_point);
            console.log(app.buy_image);
            console.log(app.buy_time);
        }
    });


    var app = new Vue({
        el: '#app',
        router : rou,
        data: {
            current_my_location_latitude: '',
            current_my_location_longitude: '',
            google_map_distance: '',
            google_map_time: '',
            appusers_ticket: 0,
            livereview_sort_type: "최신순",
            vshow_plus_7: true,
            change_genre_data: 0,
            code_data: [],
            vshow_plus_QR: true,
            vshow_info_body_actor: false,
            vshow_plus_6: true,
            vshow_map: false,
            vshow_usersetting_user_check_none: false,
            vshow_usersetting_user_check_wrong: false,
            vshow_plus_4: false,
            vshow_plus_5: true,
            vshow_info_body_content: true,
            vshow_info_img_box: false,
            vshow_QRcode_box: false,
            info_img_box: '',
            locker_vshow_content: false,
            vshow_plus_3: true,
            vshow_usersetting_box_after_user_setting: false,
            vshow_plus: true,
            vshow_plus_2: true,
            vshow_admin_menu_event_box: false,
            vshow_info_comment_section_checkbox: false,
            current_movie_infomation: [],
            current_info_comment_section_type: "인기순",
            vshow_main_body_section_3_header_type: false,
            vshow_info_comment_section_type_box: false,
            info_comment_section_type_active: false,
            appusers_locker: [],
            serial_number_ticket: '',
            buy_image: '',
            buy_point: '',
            buy_time: '',
            readinfo_type: [
                "오페라", "연극", "콘서트", "뮤지컬", "클래식"
            ],
            allreadreview: [
                {"id": "null", "content": "null", "push": "null", "readinfo_id": "null", "username": "null", "timestamp": "null", "movie": "null"},
            ],
            current_type: '조회순',
            vshow_username_change: true,
            vshow_password_change: false,
            vshow_usersetting_box_after: false,
            vshow_usersetting_box_before: true,
            latest_search_list_array: [],
            latest_search_list: '',
            vshow_latest_search_list: false,
            vshow_main_body_div_select_list: false,
            vshow_main_body_div_select_list_type: false,
            background_img: '',
            click_search_type_active: true,
            click_search_options_active: true,
            current_locations_lat: 35.110009,
            current_locations_lng: 128.944716,
            latest_item: [],
            grade_1: false,
            grade_2: false,
            grade_3: false,
            grade_4: false,
            grade_5: false,
            footer_vshow: false,
            header_vshow: false,
            menu_vshow: false,
            list_vshow: false,
            menu_bar_vshow: false,
            main_body_section_1_vshow: true,            // 무비차트
            main_body_section_2_vshow: false,           // 평점순
            main_body_section_3_vshow: false,           // 극장위치
            admin_menu_show_adder_vshow: false,
            readinfo: [],
            userinfo: [],
            info_search: '',
            readFavorites: [],                  // DB 에서 읽어온 값
            user_readfavorites: [],             // vue 에서 사용하기 위해 만든 값
            readreview: [],                     // review를 읽기 위한 값
            readmoviegradeinfo: [],             // movie_grade_info 에서 appusers_id 에 맞는 정보를 가져온다.
            check_this_favorites: false,
            check_this_push_review: false,
            id: '',
            pw: '',
            phone: '',
            change_username: '',
            change_password: '',
            username: '',
            isfail: false,
            userid: '',
            admin_movie_id: '',
            movie_id: 0,
            infoid: '',
            change_username_vshow: false,
            change_password_vshow: false,
            email: '',
            path: 'main',
            rememberme: false,
            index_current: 0,
            admin_title: '',
            admin_start_time: '',
            admin_end_time: '',
            admin_address: '',
            admin_img: '',
            admin_event_title: '',
            admin_event_start_time: '',
            admin_event_end_time: '',
            admin_event_content: '',
            admin_event_img: '',
            list_appusers_id: [],
            comment_content: '',
            usersetting_before: true,
            usersetting_after: false,
            opera: [],
            event: [],
        },
        watch: {
            comment_content: function(val) {
                var vm = this;
                if( val.length > 100) {
                    $('#review_body_write_input_maximum').css("color", "red");
                    $('#review_body_write_input_maximum').css("font-weight","bold");
                    $('#review_body_write_input').addClass('shake');
                } else {
                    $('#review_body_write_input_maximum').css("color", "black");
                    $('#review_body_write_input_maximum').css("font-weight","normal");
                    $('#review_body_write_input').removeClass('shake');
                }
            },
        },
        methods: {
            QR_loading_box_yes: function() {
                var vm = this;
                $("#app").css("overflow","auto");
                $("#QR_loading_box").css("display", "none");
                $("#QR_loading_box_content").text("잠시만 기다려주세요.");
                $("#QR_loading_box_yes").css("display","none");
                $("#QR_loading_box_img").css("visibility", "visible");
            },
            buy_after_location: function(url) {
                var vm = this;
                $("#loading_box").css("display", "none");
                $("#app").css("overflow","auto");
                $("#loading_box_content").text("잠시만 기다려주세요.");
                $("#loading_box_img").css("visibility","visible");
                $("#loading_box_button_yes").css("display","none");
                $("#loading_box_button_no").css("display","none");
                vm.path = vm.path + "," + url;
                console.log(vm.path);
                vm.$router.push({ path : "/" + url});
            },
            click_info_body_movie_info: function() {
                var vm = this;
                if(vm.vshow_plus_7 == true) {
                    vm.vshow_plus_7 = false;
                    vm.vshow_info_body_movie_info = true;
                } else {
                    vm.vshow_plus_7 = true;
                    vm.vshow_info_body_movie_info = false;
                }
            },
            delete_user_ticket: function() {
                var vm = this;
                console.log(vm.code_data);
                if(vm.code_data.length == 0) {
                    var htmlScrollTop = $("#html").scrollTop() + 30;
                    $("#vue_alert_codedata_error").css("display","block");
                    $('#vue_alert_codedata_error').addClass('bounceInRight');
                    $("#vue_alert_codedata_error").css("top", htmlScrollTop);
                    setTimeout(() => {
                        $("#vue_alert_codedata_error").css("display","none");
                        $('#vue_alert_codedata_error').removeClass('bounceInRight');
                    }, 2000);
                } else {
                    var sn = vm.code_data[0];
                    sn = sn.replace("serial_number:", "");
                    console.log(sn);
                    axios.get('/deleteUserTicket', {
                        params: {
                            serial_number: sn,
                        }
                    }).then(function(res) {
                        if(res.data == true) {
                            console.log("티켓 삭제 성공");
                        } else {
                            console.log("티켓 읽기 실패");
                        }
                    }).catch(function(err) {

                    });

                    var htmlScrollTop = $("#html").scrollTop() + 30;
                    $("#vue_alert_codedata_success").css("display","block");
                    $('#vue_alert_codedata_success').addClass('bounceInRight');
                    $("#vue_alert_codedata_success").css("top", htmlScrollTop);
                    setTimeout(() => {
                        $("#vue_alert_codedata_success").css("display","none");
                        $('#vue_alert_codedata_success').removeClass('bounceInRight');
                    }, 2000);

                }

            },
            vue_alert_click_close: function() {
                var vm = this;
                $("#vue_alert_login").css("display", "none");
            },
            click_scanner_controller: function() {
                var vm = this;
                var top = $("#scanner_controller_header").offset().top + $("#scanner_controller_header").height() + 50;
                $("#scanner_box").css("top", top);
                if( $("#scanner_box").css("display") == "block")  {
                    $("#scanner_box").css("display", "none");
                    $("#location_top").css("display", "block");
                    $("#app").css("overflow", "auto");
                    $("#scanner_controller_ok").css("display", "none");
                    vm.vshow_plus_QR = true;
                } else {
                    $("#scanner_box").css("display", "block");
                    $("#location_top").css("display", "none");
                    $("#scanner_controller_ok").css("display", "block");
                    $("#app").css("overflow", "hidden");
                    vm.vshow_plus_QR = false;
                }
            },
            click_info_body_actor: function() {
                var vm = this;
                if(vm.vshow_plus_6 == true) {
                    vm.vshow_plus_6 = false;
                    vm.vshow_info_body_actor = true;
                } else {
                    vm.vshow_plus_6 = true;
                    vm.vshow_info_body_actor = false;
                }
            },
            vshow_plus_5_active: function() {
                var vm = this;
                console.log(vm.current_my_location_latitude);   // 현재 내위치
                console.log(vm.current_my_location_longitude);
                console.log(vm.current_locations_lat);          // 연 극장의 위치
                console.log(vm.current_locations_lng);
                axios.get('/distance', {
                    params: {
                        a: vm.current_my_location_latitude,
                        b: vm.current_my_location_longitude,
                        c: vm.current_locations_lat,
                        d: vm.current_locations_lng,
                    }
                }).then(function(res) {
                    console.log(res.data);
                    vm.google_map_distance = res.data.rows[0].elements[0].distance.text;
                    vm.google_map_time = res.data.rows[0].elements[0].duration.text;
                }).catch(function(err) {
                    console.log(err);
                });
                if( vm.vshow_plus_5 == true) {
                    vm.vshow_plus_5 = false;
                    vm.vshow_map = true;
                    $("#map_distance").css("display", "block");
                    $("#map_time").css("display", "block");
                } else {
                    vm.vshow_plus_5 = true;
                    vm.vshow_map = false;
                    $("#map_distance").css("display", "none");
                    $("#map_time").css("display", "none");
                }
            },
            livereview_select_type: function(index) {
                var vm = this;
                if(index == 1) {            // 최신순
                    $(".vshow_checked_2").eq(0)[0].style.display = "block";
                    $(".vshow_checked_2").eq(1)[0].style.display = "none";
                    vm.livereview_sort_type = "최신순";
                    vm.refresh_all_timestamp();
                } else if(index == 2) {     // 인기순
                    $(".vshow_checked_2").eq(0)[0].style.display = "none";
                    $(".vshow_checked_2").eq(1)[0].style.display = "block";
                    vm.livereview_sort_type = "인기순";
                    var max;
                    var temp;
                    for(var i=0; i<vm.allreadreview.length; i++) {
                        max = parseInt(vm.allreadreview[i].push);
                        for(var j=i+1; j<vm.allreadreview.length; j++) {
                            if( max <= parseInt(vm.allreadreview[j].push) ) {
                                max = parseInt(vm.allreadreview[j].push);
                                temp = vm.allreadreview[i];
                                vm.allreadreview[i] = vm.allreadreview[j];
                                vm.allreadreview[j] = temp;
                            }
                        }
                    }
                }
            },
            click_sidebar_dimmed_main_3: function() {
                var vm = this;
                $("#sidebar_dimmed_main_3").css("width", "0px");
                $("#sidebar_dimmed_main_3").css("height", "0px");
                setTimeout(()=> {
                    vm.vshow_main_body_section_3_header_type = false;
                }, 500);
                $("#main_body_section_3_header_type").animate({
                    height: "0px",
                }, 500);
                $("#app").css("overflow", "auto");
            },
            click_info_body_content: function() {
                var vm = this;
                if(vm.vshow_plus_4 == true) {
                    vm.vshow_plus_4 = false;
                    vm.vshow_info_body_content = true;
                } else {
                    vm.vshow_plus_4 = true;
                    vm.vshow_info_body_content = false;
                }
            },
            close_info_img_box: function() {
                var vm = this;
                vm.vshow_info_img_box = false;
                $("#app").css("overflow","auto");
            },
            close_QRcode_box: function() {
                var vm = this;
                vm.vshow_QRcode_box = false;
                $("#app").css("overflow","auto");
            },
            click_locker_box_section_article_third_right_QRcode: function() {
                var top = $("#app").scrollTop() - 600;
                $("#QRcode_box").css("top", top);
                var vm = this;
                if(vm.vshow_QRcode_box == true) {
                    vm.vshow_QRcode_box = false;
                    $("#app").css("overflow","auto");
                } else {
                    vm.vshow_QRcode_box = true;
                    $("#app").css("overflow","hidden");
                }
            },
            click_locker_box_section_article_third_button: function(img) {
                var vm = this;
                var top = $("#app").scrollTop() - 600;
                $("#info_img_box").css("top", top);
                vm.info_img_box = img;
                if(vm.vshow_info_img_box == true) {             // 열려있음 닫는다
                    vm.vshow_info_img_box = false;
                    $("#app").css("overflow","auto");
                } else {
                    vm.vshow_info_img_box = true;               // 닫혀있음 연다
                    vm.info_img_box = img;
                    $("#app").css("overflow","hidden");
                }
            },
            click_locker_box_section_article_fourth: function(index) {
                var item = $(".locker_box_section_article_fourth_content").eq(index);
                var list_plus = $(".locker_plus_3").eq(index);
                var list_minus = $(".locker_minus_3").eq(index);
                console.log(index);
                console.log(list_plus);
                console.log(item[0].style);
                var vm = this;
                if(list_plus[0].style.display == "block") {
                    item[0].style.display = "block";
                    list_plus[0].style.display = "none";
                    list_minus[0].style.display = "block";
                } else {
                    item[0].style.display = "none";
                    list_plus[0].style.display = "block";
                    list_minus[0].style.display = "none";
                }
            },
            click_list_footer_body_img: function(img) {
                var vm = this;
                for(var i=0; i<vm.readinfo.length; i++ ){
                    if(vm.readinfo[i].img == img) {
                        vm.vshow_list();
                        vm.path += ",info";
                        rou.push({ path: '/info?id=' + vm.readinfo[i].id });
                    }
                }
            },
            click_sidebar_dimmed_info: function() {
                var vm = this;
                console.log("HI");
            },
            click_vshow_plus_2: function() {
                var vm = this;
                if ( vm.vshow_plus_2 == true) {
                    vm.vshow_plus_2 = false;
                } else {
                    vm.vshow_plus_2 = true;
                }
            },
            click_vshow_usersetting_box_after_user_setting: function() {
                var vm = this;
                if ( vm.vshow_plus == true) {                       // 박스가 열림
                    vm.vshow_plus = false;
                    vm.vshow_usersetting_box_after_user_setting = true;
                    $("#main_header_border_bottom").css("display","block");
                } else {                                                // 박스가 닫힘
                    vm.vshow_plus = true;
                    vm.vshow_usersetting_box_after_user_setting = false;
                    $("#main_header_border_bottom").css("display","none");
                }
            },
            admin_event_button: function() {
                var vm = this;
                axios.get('/addEvent', {
                    params: {
                        title: vm.admin_event_title,
                        start_time: vm.admin_event_start_time,
                        end_time: vm.admin_event_end_time,
                        content: vm.admin_event_content,
                        img: vm.admin_event_img,
                    }
                }).then(function(res) {
                    vm.event = res.data;
                    console.log("vm.event:", vm.event);
                }).catch(function(err) {
                    console.log(err);
                });
            },
            add_event: function() {
                var vm = this;
                vm.vshow_admin_menu_event_box = !vm.vshow_admin_menu_event_box;
            },
            location_href_review: function() {
                var vm = this;
                if( vm.readmoviegradeinfo.length != 0 ) {
                    vm.vshow_info_comment_section_checkbox = true;
                    $("#sidebar_dimmed_info").css("width", "100%");
                    $("#sidebar_dimmed_info").css("height", "100%");
                    $('#app').css('overflow', 'hidden');
                    var scrollPosition = $("#app").offset().top;
                    $("#app").animate({
                        scrollTop: scrollPosition
                    }, 500);
                } else {
                    vm.location_href('review');
                }
            },
            info_comment_section_checkbox_yes: function() {
                var vm = this;
                $('#app').css('overflow','hidden');
                vm.location_href('review');
                vm.comment_content = vm.readreview[0].content;
            },
            info_comment_section_checkbox_no: function() {
                var vm=this;
                vm.vshow_info_comment_section_checkbox = false;
                $('#app').css('overflow','auto');
                $("#sidebar_dimmed_info").css("width", "0");
                $("#sidebar_dimmed_info").css("height", "0");
            },
            change_border_review_body_write_input: function() {
                var vm = this;
                $("#review_body_write_input").css("border","3px solid #311F75");
            },
            main_body_section_3_header_type_active: function() {
                var vm = this;
                if( vm.vshow_main_body_section_3_header_type == false ) { // type이 보이지 않으면
                    vm.vshow_main_body_section_3_header_type = true;
                    var scrollPosition = $("#app").offset().top;
                    $("#sidebar_dimmed_main_3").css("width", "100%");
                    $("#sidebar_dimmed_main_3").css("height", "100%");
                    $("#main_body_section_3_header_type").animate({
                        height: "210px",
                    }, 500);
                    $("#app").animate({
                        scrollTop: scrollPosition
                    }, 500);
                    $("#app").css("overflow", "hidden");
                } else {                                                  // type이 보인다면
                    setTimeout(()=> {
                        vm.vshow_main_body_section_3_header_type = false;
                    }, 500);
                    $("#main_body_section_3_header_type").animate({
                        height: "0px",
                    }, 500);
                    $("#app").css("overflow", "auto");
                }
            },
            change_info_comment_section_type_active: function() {
                var vm = this;
                if(vm.info_comment_section_type_active == true) {   // 활성화 되어 있을 때, type 창이 닫힌다.

                } else {                                            // 활성화 되어 있지 않을 때, type 창이 열린다.
                    vm.info_comment_section_type_active = true;
                    vm.vshow_info_comment_section_type_box = true;
                    var top = $("#app").scrollTop() + $("#app").height() - 200;
                    $("#info_comment_section_type_box").css("top", top);
                    $("#app").css("overflow","hidden");

                    $('#sidebar_dimmed_2').css("width","100%");
                    $('#sidebar_dimmed_2').css("height","2000px");
                    $('#sidebar_dimmed_2').css("animation-name","어두워짐");
                    $('#sidebar_dimmed_2').css("animation-duration","1s");
                }
            },
            click_sidebar_dimmed_2: function() {
                var vm = this;
                var str = $('#sidebar_dimmed_2').css('backgroundColor');
                var item = str.split(",");
                console.log(item);
                var value = item[item.length-1].replace(")", "");
                console.log(value);
                if(value == 0.5) {
                    vm.info_comment_section_type_active = false;
                    vm.vshow_info_comment_section_type_box = false;
                    $("#app").css("overflow","auto");
                    setTimeout( ()=> {
                        $('#sidebar_dimmed_2').css("width","0");
                        $('#sidebar_dimmed_2').css("height","0");
                        console.log($('#sidebar_dimmed_2').css('opacity'));
                    },1000);
                    $('#sidebar_dimmed_2').css("animation-name","밝아짐");
                    $('#sidebar_dimmed_2').css("animation-duration","1s");
                } else {
                    console.log("중복");
                }
            },
            buy_this_ticket: function(price, sn, info_id) {
                var vm = this;
                var movie_type = null;
                var title = null;

                for(var i=0; i<vm.readinfo.length; i++) {
                    if(vm.readinfo[i].id == info_id) {
                        movie_type = vm.readinfo_type[vm.readinfo[i].movie_id - 1];
                        title = vm.readinfo[i].title;
                        title = title.replace(" ","");
                    }
                }

                console.log(movie_type);
                var today = new Date();
                var dd = today.getDate();
                var mm = today. getMonth()+1;
                var yyyy = today. getFullYear();
                var str = yyyy + "-" +  mm + "-" + dd;

                var googleQRUrl = "https://chart.googleapis.com/chart?chs=177x177&cht=qr&chl=";
                googleQRUrl = googleQRUrl + "serial_number:" + sn + "/가격:" + price + "/장르:" + movie_type + "/title:" + title + '&choe=UTF-8';
                console.log(googleQRUrl);

                if( parseInt(vm.userinfo.point) < parseInt(price) ) {
                    $("#vue_alert_not_enough").css("display", "block");
                    $("#vue_alert_not_enough").addClass("bounceInRight");
                    var appHeight = $("#app").height();
                    $("#vue_alert_not_enough").css("top", appHeight-50);
                    setTimeout(()=> {
                        $("#vue_alert_not_enough").css("display", "none");
                        $("#vue_alert_not_enough").removeClass("bounceInRight");
                    }, 2000);
                } else {
                    $("#loading_box").css("display", "block");
                    $("#app").css("overflow","hidden");
                    axios.get('/buythisticket', {
                        params: {
                            appusers_id: vm.userid,
                            serial_number: sn,
                            price: price,
                            buy_time: str,
                            info_id: info_id,
                            qrcode: googleQRUrl,
                        }
                    }).then(function(res) {
                        console.log(res.data);
                    }).catch(function(err) {
                        console.log(err);
                    });
                }
            },
            arrangement_review: function(j) {
                var vm = this;
                let list = [...vm.readreview];
                var q = 0;
                var temp;
                var max = vm.readreview[0].push;
                if(j==1) {      // 최신순
                    $(".vshow_checked_info").eq(0)[0].style.display = "block";
                    $(".vshow_checked_info").eq(1)[0].style.display = "none";
                    if(vm.current_info_comment_section_type != "최신순") {
                        for(var i=vm.readreview.length-1; i>=0; i--) {
                            list[q] = vm.readreview[i];
                            q++;
                        }
                        vm.readreview = list;
                        vm.current_info_comment_section_type = "최신순";
                        console.log("최신순으로 정렬: ",vm.readreview);
                    }

                    setTimeout(()=> {
                        $("#sidebar_dimmed_2").css("width", "0");
                        $("#sidebar_dimmed_2").css("height", "0");
                    },1000);

                    $('#sidebar_dimmed_2').css("animation-name","밝아짐");
                    $('#sidebar_dimmed_2').css("animation-duration","1s");
                    vm.info_comment_section_type_active = false;
                    $('#app').css("overflow","auto");
                    vm.vshow_info_comment_section_type_box = false;

                } else if (j==2) {  // 인기순
                    $(".vshow_checked_info").eq(0)[0].style.display = "none";
                    $(".vshow_checked_info").eq(1)[0].style.display = "block";
                    vm.current_info_comment_section_type = "인기순";
                    for(var i=0; i<vm.readreview.length; i++) {
                        for(var k=1; k<vm.readreview.length; k++) {
                            if( max <= vm.readreview[k].push ) {
                                temp = list[i];
                                list[i] = vm.readreview[k];
                                vm.readreview[k] = temp;
                            }
                        }
                    }
                    vm.readreview = list;
                    console.log("인기순으로 정렬: ",vm.readreview);
                    setTimeout(()=> {
                        $("#sidebar_dimmed_2").css("width", "0");
                        $("#sidebar_dimmed_2").css("height", "0");
                    },1000);

                    $('#sidebar_dimmed_2').css("animation-name","밝아짐");
                    $('#sidebar_dimmed_2').css("animation-duration","1s");
                    $('#app').css("overflow","auto");
                    vm.info_comment_section_type_active = false;
                    vm.vshow_info_comment_section_type_box = false;

                }
            },
            refresh_live_review: function() {
                var vm = this;
                $("#vue_alert_refresh").css("display", "block");
                $("#vue_alert_refresh").addClass("bounceInRight");
                var appHeight = $("#app").height();
                $("#vue_alert_refresh").css("top", appHeight-50);
                setTimeout(()=> {
                    $("#vue_alert_refresh").css("display", "none");
                    $("#vue_alert_refresh").removeClass("bounceInRight");
                }, 2000);

                   axios.get('/allreadreview')
                    .then(function(res) {
                        for(var i=0; i<vm.readinfo.length; i++) {
                            for(var j=0; j<res.data.length; j++) {
                                if(vm.readinfo[i].id == res.data[j].readinfo_id) {
                                    res.data[j].movie = vm.readinfo[i];
                                }
                            }
                        }
                        vm.allreadreview = res.data;
                        console.log(res.data);
                        let list = [...vm.allreadreview];
                        vm.allreadreview = list;
                        var j=0;
                        for(var i=vm.allreadreview.length-1; i>=0; i--) {
                            list[j] = vm.allreadreview[i];
                            j++;
                        }
                        vm.allreadreview = list;
                        console.log("allreadreview: ",vm.allreadreview);
                        vm.refresh_all_timestamp();
                    }).catch(function(err) {
                        console.log(err);
                    });

            },
            click_latest_list_div_if_p: function(title) {
                var vm = this;
                for(var i=0; i<vm.readinfo.length; i++) {
                    if(vm.readinfo[i].title == title) {

                        rou.push({path: "/info?id=" + vm.readinfo[i].id});
                    }
                }
            },
            click_latest_list_div_if_svg: function(index) {
                var vm = this;
                var info = sessionStorage.getItem("search_list");
                var str = info.split(",");
                str.splice(index, index+1);
                var item = str.join(",");
                if(item == '') {
                    sessionStorage.removeItem("search_list");
                    vm.latest_search_list_array = [];
                    vm.latest_search_list = "";
                } else {
                    vm.latest_search_list_array = str;
                    vm.latest_search_list = item;
                    sessionStorage.setItem("search_list", item);
                }


            },
            backbutton: function() {                                          // 헤더의 백버튼
                var vm = this;
                var str = app.path.split(",");
                if(str[str.length-1] == 'review') {
                    $("#exit_check_box").css("display","block");
                    $("#sidebar_dimmed_review").css("width", "100%");
                    $("#sidebar_dimmed_review").css("height", "100%");
                    return;
                }
                str.pop();
                vm.path = str.join(",");
                console.log("str[str.length-1]로 이동합니다.", str[str.length-1]);
                if(str[str.length-1] == "info") {
                    console.log("이거버그임");
                    rou.push({path:str[str.length-1]+"?id="+vm.infoid});
                } else {
                    rou.push({path:str[str.length-1]});
                }
            },
            click_exit_check_box_yes: function() {
                var vm = this;
                var str = app.path.split(",");
                str.pop();
                vm.path = str.join(",");
                console.log("str[str.length-1]로 이동합니다.", str[str.length-1]);
                if(str[str.length-1] == "info") {
                    rou.push({path:str[str.length-1]+"?id="+vm.infoid});
                } else {
                    rou.push({path:str[str.length-1]});
                }
            },
            click_exit_check_box_no: function() {
                var vm = this;
                $("#exit_check_box").css("display","none");
                $("#sidebar_dimmed_review").css("width", "0");
                $("#sidebar_dimmed_review").css("height", "0");
            },
            location_top: function() {
                var scrollPosition = $("#app").offset().top;
                $("#app").animate({
                    scrollTop: scrollPosition
                }, 500);
            },
            onScroll: function() {
                console.log('hi');
            },
            add_latest_search_list: function() {
                var vm = this;
                var str = sessionStorage.getItem("search_list");
                if ( str == undefined) {
                    sessionStorage.setItem("search_list", vm.info_search);
                    str = vm.info_search;
                    vm.latest_search_list = str;
                    vm.latest_search_list_array = vm.latest_search_list.split(",");
                } else {
                    str += "," + vm.info_search;
                    vm.latest_search_list_array = str.split(",");
                    for(var i=0; i<vm.latest_search_list_array.length; i++) {
                        if(vm.latest_search_list_array[i] == vm.info_search) {
                            console.log("중복 검색");
                            return;
                        }
                    }
                    var search_list = sessionStorage.setItem("search_list", str);
                    vm.latest_search_list = str;
                }

            },
            change_genre: function(j) {
                var vm = this;
                vm.change_genre_data = j;
                if(j>5) {
                    vm.movie_id = j-5;
                    vm.main_header_click(1);
                } else {
                    vm.movie_id = j;
                }

                if(j==1) {
                    $(".main_body_div_select_list_p_1").css("color","rgb(49, 31, 117)")
                    $(".main_body_div_select_list_p_1").css("font-weight", "bold");

                    $(".main_body_div_select_list_p_0").css("color","gray")
                    $(".main_body_div_select_list_p_0").css("font-weight", "normal");

                    $(".main_body_div_select_list_p_2").css("color","gray")
                    $(".main_body_div_select_list_p_2").css("font-weight", "normal");

                    $(".main_body_div_select_list_p_3").css("color","gray")
                    $(".main_body_div_select_list_p_3").css("font-weight", "normal");

                    $(".main_body_div_select_list_p_4").css("color","gray")
                    $(".main_body_div_select_list_p_4").css("font-weight", "normal");

                    $(".main_body_div_select_list_p_5").css("color","gray")
                    $(".main_body_div_select_list_p_5").css("font-weight", "normal");
                } else if (j==2) {
                    $(".main_body_div_select_list_p_2").css("color","rgb(49, 31, 117)")
                    $(".main_body_div_select_list_p_2").css("font-weight", "bold");

                    $(".main_body_div_select_list_p_0").css("color","gray")
                    $(".main_body_div_select_list_p_0").css("font-weight", "normal");

                    $(".main_body_div_select_list_p_1").css("color","gray")
                    $(".main_body_div_select_list_p_1").css("font-weight", "normal");

                    $(".main_body_div_select_list_p_3").css("color","gray")
                    $(".main_body_div_select_list_p_3").css("font-weight", "normal");

                    $(".main_body_div_select_list_p_4").css("color","gray")
                    $(".main_body_div_select_list_p_4").css("font-weight", "normal");

                    $(".main_body_div_select_list_p_5").css("color","gray")
                    $(".main_body_div_select_list_p_5").css("font-weight", "normal");
                } else if (j==3) {
                    $(".main_body_div_select_list_p_3").css("color","rgb(49, 31, 117)")
                    $(".main_body_div_select_list_p_3").css("font-weight", "bold");

                    $(".main_body_div_select_list_p_0").css("color","gray")
                    $(".main_body_div_select_list_p_0").css("font-weight", "normal");

                    $(".main_body_div_select_list_p_1").css("color","gray")
                    $(".main_body_div_select_list_p_1").css("font-weight", "normal");

                    $(".main_body_div_select_list_p_2").css("color","gray")
                    $(".main_body_div_select_list_p_2").css("font-weight", "normal");

                    $(".main_body_div_select_list_p_4").css("color","gray")
                    $(".main_body_div_select_list_p_4").css("font-weight", "normal");

                    $(".main_body_div_select_list_p_5").css("color","gray")
                    $(".main_body_div_select_list_p_5").css("font-weight", "normal");
                } else if (j==4) {
                    $(".main_body_div_select_list_p_4").css("color","rgb(49, 31, 117)")
                    $(".main_body_div_select_list_p_4").css("font-weight", "bold");

                    $(".main_body_div_select_list_p_0").css("color","gray")
                    $(".main_body_div_select_list_p_0").css("font-weight", "normal");

                    $(".main_body_div_select_list_p_1").css("color","gray")
                    $(".main_body_div_select_list_p_1").css("font-weight", "normal");

                    $(".main_body_div_select_list_p_3").css("color","gray")
                    $(".main_body_div_select_list_p_3").css("font-weight", "normal");

                    $(".main_body_div_select_list_p_2").css("color","gray")
                    $(".main_body_div_select_list_p_2").css("font-weight", "normal");

                    $(".main_body_div_select_list_p_5").css("color","gray")
                    $(".main_body_div_select_list_p_5").css("font-weight", "normal");
                } else if (j==5) {
                    $(".main_body_div_select_list_p_5").css("color","rgb(49, 31, 117)")
                    $(".main_body_div_select_list_p_5").css("font-weight", "bold");

                    $(".main_body_div_select_list_p_0").css("color","gray")
                    $(".main_body_div_select_list_p_0").css("font-weight", "normal");

                    $(".main_body_div_select_list_p_1").css("color","gray")
                    $(".main_body_div_select_list_p_1").css("font-weight", "normal");

                    $(".main_body_div_select_list_p_3").css("color","gray")
                    $(".main_body_div_select_list_p_3").css("font-weight", "normal");

                    $(".main_body_div_select_list_p_4").css("color","gray")
                    $(".main_body_div_select_list_p_4").css("font-weight", "normal");

                    $(".main_body_div_select_list_p_2").css("color","gray")
                    $(".main_body_div_select_list_p_2").css("font-weight", "normal");
                } else if (j==0) {
                    $(".main_body_div_select_list_p_0").css("color","rgb(49, 31, 117)")
                    $(".main_body_div_select_list_p_0").css("font-weight", "bold");

                    $(".main_body_div_select_list_p_2").css("color","gray")
                    $(".main_body_div_select_list_p_2").css("font-weight", "normal");

                    $(".main_body_div_select_list_p_1").css("color","gray")
                    $(".main_body_div_select_list_p_1").css("font-weight", "normal");

                    $(".main_body_div_select_list_p_3").css("color","gray")
                    $(".main_body_div_select_list_p_3").css("font-weight", "normal");

                    $(".main_body_div_select_list_p_4").css("color","gray")
                    $(".main_body_div_select_list_p_4").css("font-weight", "normal");

                    $(".main_body_div_select_list_p_5").css("color","gray")
                    $(".main_body_div_select_list_p_5").css("font-weight", "normal");
                }
            },
            change_type: function(j) {
                var vm = this;
                if(j==1) {
                    $(".vshow_checked").eq(0)[0].style.display = "block";
                    $(".vshow_checked").eq(1)[0].style.display = "none";
                    $(".vshow_checked").eq(2)[0].style.display = "none";

                    console.log("조회순");
                    vm.current_type = "조회순";
                    var max = vm.readinfo[0].view_count;
                    var list = vm.readinfo;
                    var index = -1;
                    var temp;
                    for(var i=0; i<vm.readinfo.length; i++) {
                        max = vm.readinfo[i].view_count;
                        for(var k=i+1; k<vm.readinfo.length; k++) {
                            if(parseInt(max) <= parseInt(vm.readinfo[k].view_count)) {
                                max = vm.readinfo[k].view_count;
                                temp = vm.readinfo[k];
                                vm.readinfo[k] = vm.readinfo[i];
                                vm.readinfo[i] = temp;
                            }
                        }
                    }
                    console.log(list);
                } else if (j==2) {
                    $(".vshow_checked").eq(0)[0].style.display = "none";
                    $(".vshow_checked").eq(1)[0].style.display = "block";
                    $(".vshow_checked").eq(2)[0].style.display = "none";
                    var max = parseFloat(vm.readinfo[0].grade / vm.readinfo[0].addcount);
                    console.log(max);
                    var list = vm.readinfo;
                    var index = -1;
                    var temp;
                    for(var i=0; i<vm.readinfo.length; i++) {
                        max = parseFloat(vm.readinfo[i].grade / vm.readinfo[i].addcount);
                        for(var k=i+1; k<vm.readinfo.length; k++) {
                            if(parseFloat(max) <= parseFloat(vm.readinfo[k].grade / vm.readinfo[k].addcount)) {
                                max = parseFloat(vm.readinfo[k].grade / vm.readinfo[k].addcount);
                                temp = vm.readinfo[k];
                                vm.readinfo[k] = vm.readinfo[i];
                                vm.readinfo[i] = temp;
                            }
                        }
                    }
                    console.log("평점순");
                    vm.current_type = "평점순";
                } else if (j==3) {
                    $(".vshow_checked").eq(0)[0].style.display = "none";
                    $(".vshow_checked").eq(1)[0].style.display = "none";
                    $(".vshow_checked").eq(2)[0].style.display = "block";
                    console.log("댓글순");
                    vm.current_type = "댓글순";
                    var max = vm.readinfo[0].review_count;
                    var list = vm.readinfo;
                    var index = -1;
                    var temp;
                    for(var i=0; i<vm.readinfo.length; i++) {
                        max = vm.readinfo[i].review_count;
                        for(var k=i+1; k<vm.readinfo.length; k++) {
                            if(parseInt(max) <= parseInt(vm.readinfo[k].review_count)) {
                                max = vm.readinfo[k].review_count;
                                temp = vm.readinfo[k];
                                vm.readinfo[k] = vm.readinfo[i];
                                vm.readinfo[i] = temp;
                            }
                        }
                    }
                }

            },
            click_sidebar_dimmed: function() {
                var vm = this;
                    setTimeout(() => {
                        $('#sidebar_dimmed').css("width", "0%");
                        $('#sidebar_dimmed').css("height", "0%");
                    }, 1000);
                    setTimeout(() => {
                        $("#app").css("overflow","auto");
                    }, 500);


                    $('#main_body_div_select_list_type').css("z-index", "1500");
                    vm.click_search_type_active = true;
                    if(vm.vshow_main_body_div_select_list_type == true) {
                        $('#main_body_div_select_list_type').animate({
                            height: '0',
                        }, 1000);
                        setTimeout(() => {
                            vm.vshow_main_body_div_select_list_type = false;
                        }, 1000);
                        $('#sidebar_dimmed').css("animation-name","밝아짐");
                        $('#sidebar_dimmed').css("animation-duration","1s");
                    }

            },
            click_search_types: function() {
                 var vm = this;
                 if( vm.current_type == "조회순") {
                    $(".vshow_checked").eq(0)[0].style.display = "block";
                    $(".vshow_checked").eq(1)[0].style.display = "none";
                    $(".vshow_checked").eq(2)[0].style.display = "none";
                 } else if( vm.current_type == "평점순") {
                    $(".vshow_checked").eq(0)[0].style.display = "none";
                    $(".vshow_checked").eq(1)[0].style.display = "block";
                    $(".vshow_checked").eq(2)[0].style.display = "none";
                 } else {
                    $(".vshow_checked").eq(0)[0].style.display = "none";
                    $(".vshow_checked").eq(1)[0].style.display = "none";
                    $(".vshow_checked").eq(2)[0].style.display = "block";
                 }
                 console.log("이거 맞음",vm.click_search_type_active);
                 for(var i=0; i<3; i++) {
                    console.log();
                 }
                 if(vm.click_search_type_active == true) {
                    vm.click_search_type_active = false;
                    $('#sidebar_dimmed').css("width", "100%");
                    $('#sidebar_dimmed').css("height", "100%");
                    $('#main_body_div_select_list_type').css("z-index", "2100");
                    $('#sidebar_dimmed').css("animation-name","어두워짐");
                    $('#sidebar_dimmed').css("animation-duration","1s");
                    $("#app").css("overflow","hidden");
                 }

                 var scrollPosition = $("#app").offset().top;
                 $("#app").animate({
                    scrollTop: scrollPosition
                 }, 500);

                if(vm.vshow_main_body_div_select_list_type == false) {
                    vm.vshow_main_body_div_select_list_type = true;
                    $('#main_body_div_select_list_type').animate({
                        height: '230px',
                    }, 1000);
                }


            },
            click_search_options: function() {
                var vm = this;
                vm.click_search_options_active = !vm.click_search_options_active;
                vm.vshow_main_body_div_select_list = !vm.vshow_main_body_div_select_list;
            },
            comment_review_delete: function(id) {
                var vm = this;
                axios.get('/CommentReviewDelete', {
                    params: {
                        id: id,
                    }
                }).then(function(res) {
                    console.log(res);
                    for(var i=0; i<vm.readreview.length; i++) {
                        if(vm.readreview[i].id == id) {
                            vm.readreview.splice(i, 1);
                        }
                    }
                    for(var i=0; i<vm.list_appusers_id.length; i++) {
                        if(vm.list_appusers_id[i].review_id == id) {
                            vm.list_appusers_id.splice(i, 1);
                        }
                    }
                }).catch(function(err) {
                    console.log(err);
                });
                axios.get('/DeleteMovieGrade', {
                    params: {
                        id: vm.infoid,
                        appusers_id: vm.userid,
                    }
                }).then(function(res) {
                    console.log(res.data);
                    axios.get('/readinfo')
                    .then(function(res) {
                        vm.readinfo = res.data;
                        console.log(res.data);
                    }).catch(function(err) {
                        console.log(err);
                    });
                    axios.get('/readMovieGradeInfo', {
                        params: {
                            info_id: app.infoid,
                            appusers_id: app.userid,
                        }
                    }).then(function(res) {
                        vm.readmoviegradeinfo = res.data;
                        console.log(res.data);
                    }).catch(function(err) {
                        console.log(err);
                    });
                }).catch(function(err) {
                    console.log(err);
                });
                axios.get('/decrement_review', {
                    params: {
                        id: vm.infoid,
                    }
                }).then(function(res) {
                    console.log(res.data);
                    for(var i=0; i<vm.readinfo.length; i++) {
                        if(vm.readinfo[i].id == vm.infoid) {
                            vm.readinfo[i].review_count = res.data[0].review_count;
                        }
                    }
                }).catch(function(err) {
                    console.log("decrement_review: ", err);
                });
                $("#vue_alert_delete_review").css("display", "block");
                $("#vue_alert_delete_review").addClass("bounceInRight");
                setTimeout(()=> {
                    $("#vue_alert_delete_review").removeClass("bounceInRight");
                    $("#vue_alert_delete_review").css("display", "none");
                }, 3000);
            },
            comment_review_update: function(id) {

            },
            window_open: function() {
                var ref = window.open(encodeURI('https://tickets.interpark.com/search?keyword=피가로의 결혼'), '_blank', 'location=yes');
                // relative document
            },
            click_grade_star: function(j) {
                var vm = this;
                if( j==1 ) {
                    vm.grade_1 = true;
                    vm.grade_2 = false;
                    vm.grade_3 = false;
                    vm.grade_4 = false;
                    vm.grade_5 = false;
                } else if (j==2) {
                    vm.grade_1 = true;
                    vm.grade_2 = true;
                    vm.grade_3 = false;
                    vm.grade_4 = false;
                    vm.grade_5 = false;
                } else if (j==3) {
                    vm.grade_1 = true;
                    vm.grade_2 = true;
                    vm.grade_3 = true;
                    vm.grade_4 = false;
                    vm.grade_5 = false;
                } else if (j==4) {
                    vm.grade_1 = true;
                    vm.grade_2 = true;
                    vm.grade_3 = true;
                    vm.grade_4 = true;
                    vm.grade_5 = false;
                } else if (j==5) {
                    vm.grade_1 = true;
                    vm.grade_2 = true;
                    vm.grade_3 = true;
                    vm.grade_4 = true;
                    vm.grade_5 = true;
                }
            },
            insert_comment: function() {
                var vm = this;
                console.log(vm.infoid);

                axios.get('/insertreview', {
                    params : {
                        readinfo_id : vm.infoid,
                        appusers_id : vm.userid,
                        content : vm.comment_content,
                    }
                }).then(function(res) {
                     $("#vue_alert_update_review").css("display", "block");
                     $("#vue_alert_update_review").addClass("bounceInRight");
                     setTimeout(()=> {
                        $("#vue_alert_update_review").removeClass("bounceInRight");
                        $("#vue_alert_update_review").css("display", "none");
                     }, 3000);
                    axios.get('/readreview', {
                        params : {
                            readinfo_id: vm.infoid,
                        }
                    }).then(function(res) {
                        vm.readreview = res.data;
                        console.log("re readreview: ",res.data);
                        vm.list_appusers_id[vm.list_appusers_id.length] = {
                            "review_id": res.data[vm.list_appusers_id.length].id,
                            "check": false,
                        }
                        vm.comment_content = '';

                    }).catch(function(err) {
                        console.log(err);
                    });
                }).catch(function(err) {
                    console.log("insert_comment ERROR" + err);
                });
                axios.get('/increment_review', {
                    params: {
                        id: vm.infoid,
                    }
                }).then(function(res) {
                    console.log(res.data);
                    for(var i=0; i<vm.readinfo.length; i++) {
                        if(vm.readinfo[i].id == vm.infoid) {
                            vm.readinfo[i].review_count = res.data[0].review_count;
                        }
                    }
                }).catch(function(err) {
                    console.log("increment_review_count: ",err);
                });
                var vm = this;
                var count = 0;
                if(vm.grade_1 == true) {
                    count++;
                }
                if(vm.grade_2 == true) {
                    count++;
                }
                if(vm.grade_3 == true) {
                    count++;
                }
                if(vm.grade_4 == true) {
                    count++;
                }
                if(vm.grade_5 == true) {
                    count++;
                }
                if(vm.readmoviegradeinfo.length == 0) {
                    axios.get('/addGrade', {
                        params: {
                            id: vm.infoid,
                            appusers_id: vm.userid,
                            grade: count,
                        }
                    }).then(function(res) {
                        axios.get('/readinfo')
                        .then(function(res) {
                            vm.readinfo = res.data;
                            console.log(res.data);
                        }).catch(function(err) {
                            console.log(err);
                        });
                        axios.get('/readMovieGradeInfo', {
                            params: {
                                info_id: app.infoid,
                                appusers_id: app.userid,
                            }
                        }).then(function(res) {
                            vm.readmoviegradeinfo = res.data;
                            console.log(res.data);
                        }).catch(function(err) {
                            console.log(err);
                        });
                    }).catch(function(err) {
                        console.log(err);
                    });
                } else {
                    var input = confirm("이미 평점을 매기셨습니다. 재평가 하시겠습니까?");
                    if( input == true) {
                        axios.get('/readdGrade', {
                            params: {
                                info_id: vm.infoid,
                                appusers_id: vm.userid,
                                grade: count,
                            }
                        }).then(function(res) {
                            if(res.data == true) {  // 평점을 매기고 성공함.
                                axios.get('/readinfo')
                                .then(function(res) {
                                    vm.readinfo = res.data;
                                    console.log("reload reinfo: ",res.data);
                                }).catch(function(err) {
                                    console.log(err);
                                });
                            }
                        }).catch(function(err) {
                            console.log(err);
                        });
                    } else {
                        alert("취소");
                    }
                }
                rou.push({ path:"/info?id=" + vm.infoid });

            },
            insert_comment_2: function() {
                var vm = this;
                var count = 0;
                if(vm.grade_1 == true) {
                    count++;
                }
                if(vm.grade_2 == true) {
                    count++;
                }
                if(vm.grade_3 == true) {
                    count++;
                }
                if(vm.grade_4 == true) {
                    count++;
                }
                if(vm.grade_5 == true) {
                    count++;
                }
                console.log(count);
                axios.get('/updatereview', {
                    params : {
                        readinfo_id: vm.infoid,
                        appusers_id: vm.userid,
                        content: vm.comment_content,
                    }
                }).then(function(res) {
                    console.log(res.data);
                        $("#vue_alert_update_review").css("display", "block");
                        $("#vue_alert_update_review").addClass("bounceInRight");
                        setTimeout(()=> {
                            $("#vue_alert_update_review").removeClass("bounceInRight");
                            $("#vue_alert_update_review").css("display", "none");
                        }, 3000);
                }).catch(function(err) {
                    console.log(err);
                });
                for(var i =0; i<vm.readreview.length; i++ ) {
                    if (vm.readreview[i].appusers_id == vm.userid) {
                        var id = vm.readreview[i].id;
                        console.log(vm.readreview[i].appusers_id);
                    }
                }
                axios.get('/updategrade', {
                    params : {
                        grade: count,
                        info_id: vm.infoid,
                        appusers_id: vm.userid,
                    }
                }).then(function(res) {
                    console.log(res.data);
                                axios.get('/readinfo')
                                .then(function(res) {
                                    vm.readinfo = res.data;
                                    console.log("reload reinfo: ",res.data);
                                }).catch(function(err) {
                                    console.log(err);
                                });
                }).catch(function(err) {
                    console.log(err);
                });

                rou.push({ path:"/info?id=" + vm.infoid });
            },
            click_grade_submit: function() {

            },
            pwcheck: function() {
                var vm = this;
                if( vm.pw == '') {
                    $("#usersetting_box_before_input").addClass("shake");
                    setTimeout(()=> {
                        $("#usersetting_box_before_input").removeClass("shake");
                    }, 1000);
                    vm.vshow_usersetting_user_check_none = true;
                    vm.vshow_usersetting_user_check_wrong = false;
                } else if(vm.pw == vm.userinfo.password) {
                    vm.vshow_usersetting_box_after = true;
                    vm.vshow_usersetting_box_before = false;
                } else {
                    $("#usersetting_box_before_input").addClass("shake");
                    setTimeout(()=> {
                        $("#usersetting_box_before_input").removeClass("shake");
                    }, 1000);
                    vm.vshow_usersetting_user_check_none = false;
                    vm.vshow_usersetting_user_check_wrong = true;
                }
            },
            login: function() {     // 로그인
                var vm = this;
                axios.get('/login', {
                    params: {
                        email: vm.email,
                        password: vm.pw,
                        rememberme: true,
                    }
                }).then(function(res) {
                    if(res.data.isSuccess != false) {
                        vm.username = res.data.list[0].username;
                        vm.userid = res.data.list[0].id;
                        $("#vue_alert_login").css("display", "block");
                        $("#vue_alert_login").addClass("bounceInRight");
                        setTimeout(()=> {
                            $("#vue_alert_login").removeClass("bounceInRight");
                            $("#vue_alert_login").css("display", "none");
                        }, 3000);
                        console.log(vm.username);
                        console.log(vm.userid);
                        vm.call_created();
                        rou.push({path:'/main'});
                    } else {
                        alert("존재하지 않는 아이디거나, 비밀번호가 틀렸습니다.");
                    }
                }).catch(function(err) {
                    console.log(err);
                })
            },
            logout: function() {            // 로그아웃
                var vm = this;
                axios.get('/logout')
                    .then(function(res) {
                        if(res.data.value == null) {
                            $("#vue_alert_logout").css("display", "block");
                            $("#vue_alert_logout").addClass("bounceInRight");
                            setTimeout(()=> {
                                $("#vue_alert_logout").removeClass("bounceInRight");
                                $("#vue_alert_logout").css("display", "none");
                            }, 3000);
                            vm.username = '';           // 로그아웃하면 username == ''
                            vm.userid = '';
                            rou.push({path:'/login'});
                        } else {
                            alert("로그아웃 실패");       // 로그아웃 시,
                        }
                    }).catch(function(err) {
                    console.log(err);
                });
            },
            signin: function() {    // 회원가입
                var vm = this;
                axios.get('/signin', {
                    params: {
                        email: vm.email,
                        phone: vm.phone,
                        username: vm.username,
                        password: vm.pw,
                    }
                }).then(function(res) {
                    console.log(res.data);
                    $("#vue_alert_signin").css("display", "block");
                    $("#vue_alert_signin").addClass("bounceInRight");
                    setTimeout(()=> {
                        $("#vue_alert_signin").removeClass("bounceInRight");
                        $("#vue_alert_signin").css("display", "none");
                        rou.push({path:"/login"});
                    }, 2000);
                }).catch(function(err) {
                    console.log(err);
                    alert("이미 존재하는 아이디입니다.");
                });
            },
            location_path: function() {
                var vm = this;
                var str = vm.path.split(",");
                str.pop();
                vm.path = str.join(",");
                this.$router.push({path:"/"+str[str.length-1]});
            },

            location_href: function(url) {
                var vm = this;
                if(url == 'login' || url == 'admin' || url == 'review' || url == 'favorites') {
                    $('#list').animate({
                        left: '800',
                    }, 500);
                    $('#app').css('overflow','auto');
                    $('#app').css('overflow-x', 'hidden');
                    setTimeout(() => {
                        vm.list_vshow = !vm.list_vshow;
                    }, 500);
                    vm.path += "," + url;
                    console.log(vm.path);
                    this.$router.push({ path : "/" + url});

                    return;
                }
                if(url == 'main') {
                    var str = vm.path.split(",");

                    if(str[str.length-1] == 'main') {
                        console.log(vm.path);
                        return;
                    } else {
                        vm.path += ","+url;
                        console.log(vm.path);
                        this.$router.push({ path : "/" + url});
                        return;
                    }
                }
                vm.path += ","+url;
                console.log(vm.path);
                if(vm.list_vshow == true) {
                    vm.vshow_list();
                }
                this.$router.push({ path : "/" + url});
            },
            location_info_href: function(url, id, title) {
                var vm = this;
                vm.path += ","+url;
                console.log(vm.path);
                var info = sessionStorage.getItem("search_list");
                if(title != undefined) {
                    if(info == undefined) {
                        sessionStorage.setItem("search_list", title);
                    } else {
                        var str = sessionStorage.getItem("search_list");
                        var list = str.split(",");
                        if(list[list.length - 1] == title) {
                            console.log("중복");
                        } else {
                            str += "," + title;
                            sessionStorage.setItem("search_list", str);
                        }
                    }
                }


                this.$router.push({path: "/" + url + "?id=" + id});
            },
            vshow_list: function() {            // list의 vshow를 관리한다.
                var vm = this;
                console.log("최근 본 공연의 개수:", vm.latest_item.length);
                var count = vm.latest_item.length;
                if(count != 0) {
                    $("#list_footer_img_srcoll").css("min-width", 150*count);
                    var val = 1;
                    setInterval(function() {
                            $("#list_footer_body_if").animate({
                                scrollLeft: 150 * val,
                            }, 4000);
                            val++;
                            if(val == count) {
                            $("#list_footer_body_if").animate({
                                scrollLeft: 0,
                            }, 1000);
                            val = 1;
                        }
                    }, 4000);
                }
                        if(vm.list_vshow == false) {
                            vm.list_vshow = !vm.list_vshow;
                            $('#list').animate({
                                left: '0',
                            }, 500);
                            $('#app').css('overflow', 'hidden');
                            var scrollPosition = $("#app").offset().top;
                            console.log("scrollPosition: ",scrollPosition);
                            $("#app").animate({
                                scrollTop: scrollPosition
                            }, 500);
                        } else {
                            $('#list').animate({
                                left: '800',
                            }, 500);
                            setTimeout(() => {
                                vm.list_vshow = !vm.list_vshow;
                            }, 500);
                            $('#app').css('overflow', 'auto');
                            $('#app').css('overflow-x', 'hidden');
                        }
            },
            main_header_click: function(j) {            // main_header 각 ele 을 누르면 색이 변하게 된다.
                var id = "main_header_p_";
                var vm = this;

                for(var i=1; i<=3; i++) {
                    if( i == j ) {
                        document.getElementById(id+i).style.color = "#311F75";
                        document.getElementById(id+i).style.fontWeight = "bold";
                    } else {
                        document.getElementById(id+i).style.color = "gray";
                        document.getElementById(id+i).style.fontWeight = "normal";
                    }
                }

                if(j==1) {
                    vm.main_body_section_1_vshow = true;
                    vm.main_body_section_2_vshow = false;
                    vm.main_body_section_3_vshow = false;
                    $('#first_header_search').css("display","inline-block");

                    var this_left = $("#main_header_border_bottomm").offset().left;

                    if( this_left < 127) {
                        console.log("중복클릭방지");
                    } else {
                        $("#main_header_border_bottomm").animate({
                            left: '0%',
                        }, 300);
                    }
                    console.log(this_left);
                } else if (j==2) {
                    vm.main_body_section_1_vshow = false;
                    vm.main_body_section_2_vshow = true;
                    vm.main_body_section_3_vshow = false;
                    setTimeout(()=> {
                        var width = $("#main_body_section_2_event_list").width() * 5 + 100;
                        $("#main_body_section_2_event_list_div").css("min-width", width);
                        var width_one = $("#main_body_section_2_event_list").width();
                        $("div[id^=main_body_section_2_event_item]").css("width", width_one);
                        current_scrollLeft = $("#main_body_section_2_event_list").scrollLeft();
                        var count=1;
                        setInterval(function() {
                            $("#main_body_section_2_event_list").animate({
                                scrollLeft: width_one * count,
                            }, 2000);
                            count++;
                            if(count == 5) {
                                $("#main_body_section_2_event_list").animate({
                                    scrollLeft: 0,
                                }, 1000);
                                count = 1;
                            }
                        }, 4000);

                    }, 500);

                    var this_left = $("#main_header_border_bottomm").offset().left;

                    if( this_left > 127 && this_left < 280) {
                        console.log("중복클릭방지");
                    } else {
                        $("#main_header_border_bottomm").animate({
                            left: '29%',
                        }, 300);
                    }
                    axios.get('/readEventAll')
                    .then(function(res) {
                        vm.event = res.data;
                        console.log("event: ", vm.event);
                    }).catch(function(err) {
                        console.log(err);
                    });
                    console.log(this_left);

                } else {
                    vm.main_body_section_1_vshow = false;
                    vm.main_body_section_2_vshow = false;
                    vm.main_body_section_3_vshow = true;
                    $('#first_header_search').css("display","inline-block");
                    var this_left = $("#main_header_border_bottomm").offset().left;
                    console.log(this_left);
                    if( this_left > 280) {
                        console.log("중복클릭방지");
                    } else {
                        $("#main_header_border_bottomm").animate({
                            left: '65%',
                        }, 300);
                    }

                    axios.get('/allreadreview')
                    .then(function(res) {
                        vm.allreadreview = res.data;
                        let list = [...vm.allreadreview];
                        vm.allreadreview = list;
                        j=0;
                        for(var i=vm.allreadreview.length-1; i>=0; i--) {
                            list[j] = vm.allreadreview[i];
                            j++;
                        }
                        vm.allreadreview = list;
                        for(var i=0; i<vm.readinfo.length; i++) {
                            for(var j=0; j<vm.allreadreview.length; j++) {
                                if(vm.readinfo[i].id == vm.allreadreview[j].readinfo_id) {
                                    vm.allreadreview[j].movie = vm.readinfo[i];
                                }
                            }
                        }
                        vm.refresh_all_timestamp();
                        console.log("allreadreview: ",vm.allreadreview);
                    }).catch(function(err) {
                        console.log(err);
                    })
                }

            },
            admin_menu_click: function(item) {
                var vm = this;
                if( item == 'show_adder') {
                    if(vm.admin_menu_show_adder_vshow == true) {
                        vm.admin_menu_show_adder_vshow = false;
                    } else {
                        vm.admin_menu_show_adder_vshow = true;
                    }
                }
            },
            admin_menu_click_adder: function() {
                var vm = this;
                axios.get('/insertShow', {
                    params: {
                        title: vm.admin_title,
                        start_time: vm.admin_start_time,
                        end_time: vm.admin_end_time,
                        address: vm.admin_address,
                        img: vm.admin_img,
                        movie_id: vm.admin_movie_id,
                    }
                }).then(function(res) {
                    if(res.data == true) {
                        alert("공연을 성공적으로 추가하였습니다.");
                    } else {
                        alert("공연 추가에 실패하였습니다.");
                    }
                }).catch(function(err) {
                    console.log(err);
                });
            },
            info_favorites_insert: function(id) {
                var vm = this;
                axios.get('/insertFavorites', {
                    params: {
                        readinfo_id: id,
                        appusers_id: vm.userid,
                    }
                }).then(function(res) {
                    if(res.data == true) {
                        $("#vue_alert_update_favorites").css("display", "block");
                        $("#vue_alert_update_favorites").addClass("bounceInRight");
                        setTimeout(() => {
                            $("#vue_alert_update_favorites").css("display", "none");
                            $("#vue_alert_update_favorites").removeClass("bounceInRight");
                        }, 2000);
                        vm.check_this_favorites = true;
                        axios.get('/readFavorites', {
                            params: {
                                appusers_id: vm.userid
                            }
                        }).then(function(res) {
                            vm.readFavorites = res.data;
                            console.log("readFavorites: ",res.data);
                        }).catch(function(err) {
                            console.log(err);
                        });
                    } else {
                        alert("즐겨찾기가 이미 되어있습니다.");
                    }
                }).catch(function(err) {
                    alert("info_favorites_insert ERROR!");
                });
            },
            info_favorites_delete: function(id) {
                var vm = this;
                console.log(id);
                axios.get('/deleteFavorites', {
                    params: {
                        readinfo_id: id,
                        appusers_id: vm.userid,
                    }
                }).then(function(res) {
                    if(res.data == true) {
                        $("#vue_alert_delete_favorites").css("display", "block");
                        $("#vue_alert_delete_favorites").addClass("bounceInRight");
                        setTimeout(() => {
                            $("#vue_alert_delete_favorites").css("display", "none");
                            $("#vue_alert_delete_favorites").removeClass("bounceInRight");
                        }, 2000);
                        vm.check_this_favorites = false;
                    } else {
                        alert("에러");
                    }
                    axios.get('/readFavorites', {
                        params: {
                            appusers_id: vm.userid,
                        }
                    }).then(function(res){
                        vm.readFavorites = res.data;
                        console.log(res.data);
                    }).catch(function(err) {
                        console.log(err);
                    });
                }).catch(function(err) {
                    alert("info_favorites_delete ERROR!");
                });
            },
            search_info_title_change: function($event) {
                this.$emit('input', $event.target.info_search);
            },

            push_appusers_id: function(id) {
                var vm = this;
                axios.get('/pushappusersid', {
                  params: {
                      currentUserId: vm.userid,
                      reviewId: id,
                  }
                }).then(function(res) {
                    if(res.data == true) {
                        $("#vue_alert_update_review").css("display", "block");
                        $("#vue_alert_update_review").addClass("bounceInRight");
                        setTimeout(()=> {
                            $("#vue_alert_update_review").addClass("bounceInRight");
                            $("#vue_alert_update_review").css("display", "none");
                        }, 2000);
                        for(var i=0; i<vm.list_appusers_id.length; i++) {
                            if( vm.list_appusers_id[i].review_id == id) {
                                vm.list_appusers_id[i].check = true;
                                let list = [...vm.list_appusers_id];
                                list[i].check = true;
                                //list.splice(i, i+1, {review_id: vm.list_appusers_id[i].review_id, check: true});
                                vm.list_appusers_id = list;
                            }
                        }
                    } else {
                        $("#vue_alert_delete_review").css("display", "block");
                        $("#vue_alert_delete_review").addClass("bounceInRight");
                        setTimeout(()=> {
                            $("#vue_alert_delete_review").addClass("bounceInRight");
                            $("#vue_alert_delete_review").css("display", "none");
                        }, 2000);
                        for(var i=0; i<vm.list_appusers_id.length; i++) {
                            if( vm.list_appusers_id[i].review_id == id) {
                                vm.list_appusers_id[i].check = false;
                                let list = [...vm.list_appusers_id];
                                list[i].check = false;
                                vm.list_appusers_id = list;
                            }
                        }
                    }
                }).then(function() {
                    axios.get('/readreview', {
                        params: {
                            readinfo_id: vm.infoid,
                        }
                    }).then(function(res) {
                        vm.readreview = res.data;
                        vm.refresh_timestamp();
                        if( vm.current_info_comment_section_type == "최신순") {
                            vm.current_info_comment_section_type = "인기순";
                            vm.arrangement_review(1);
                        } else {
                            vm.arrangement_review(2);
                        }
                    }).catch(function(err) {
                        console.log(err);
                    });
                }).catch(function(err) {
                    console.log(err);
                });

            },
            Changeusername: function(j) {
                var vm = this;
                axios.get('/changeusername', {
                    params: {
                        id : vm.userid,
                        username : vm.change_username,
                    }
                }).then(function(res) {
                    console.log(res.data);
                    if(res.data == true) {
                        vm.username = vm.change_username;
                        vm.change_username_vshow = false;
                        $('.change_username').css("border", "1px solid black");
                        alert("성공적으로 바꾸셨습니다. 다시 로그인 해주세요.");
                        axios.get('/logout')
                        .then(function(res) {
                            console.log(res.data);
                            vm.userid = '';
                            rou.push({ path : "/login"});
                        }).catch(function(err) {
                            console.log(err);
                        });
                    } else {
                        $("#default_input").addClass("shake");
                        setTimeout(()=> {
                            $("#default_input").removeClass("shake");
                        },1000);
                        vm.change_username_vshow = true;
                    }
                }).catch(function(err) {
                    console.log(err);
                });
            },
            Changepassword: function(j) {
                var vm = this;
                axios.get('/changepassword', {
                    params: {
                        id : vm.userid,
                        password : vm.change_password,
                    }
                }).then(function(res) {
                    console.log(res.data);
                    if(res.data == true) {
                        alert("다시 로그인 해주세요.");
                        axios.get('/logout')
                        .then(function(res) {
                            console.log(res.data);
                            rou.push({ path : "/login"});
                        }).catch(function(err) {
                            console.log(err);
                        });
                    } else {
                        $('.change_password').css("border", "4px solid red");
                        vm.change_password_vshow = true;
                        alert("실패했습니다.");
                    }
                }).catch(function(err) {
                    console.log(err);
                });
            },
            click_change_username: function(j) {
                var vm = this;
                var id = "main_header_p_";

                document.getElementById(id+4).style.color = "#311F75";
                document.getElementById(id+4).style.fontWeight = "bold";
                document.getElementById(id+5).style.color = "gray";
                document.getElementById(id+5).style.fontWeight = "normal";

                var this_left = $("#main_header_border_bottom").offset().left;

                if( this_left < 100) {
                    console.log("중복클릭방지");
                } else {
                    $("#main_header_border_bottom").animate({
                        left: '14%',
                    }, 500);
                    vm.vshow_username_change = true;
                    vm.vshow_password_change = false;
                }

            },
            click_change_password: function(j) {
                var vm = this;
                var id = "main_header_p_";

                document.getElementById(id+4).style.color = "gray";
                document.getElementById(id+4).style.fontWeight = "normal";
                document.getElementById(id+5).style.color = "#311F75";
                document.getElementById(id+5).style.fontWeight = "bold";

                var this_left = $("#main_header_border_bottom").offset().left;

                if( this_left > 100) {
                    console.log("중복클릭방지");
                } else {
                    $("#main_header_border_bottom").animate({
                        left: '65%',
                    }, 500);
                }
                vm.vshow_username_change = false;
                vm.vshow_password_change = true;
            },
            refresh_timestamp: function() {
                var vm = this;
                var currentdate = new Date();
                var datetime = currentdate.getFullYear() + "-"
                + (currentdate.getMonth()+1)  + "-"
                + currentdate.getDate() + "-"
                + currentdate.getHours() + ":"
                + currentdate.getMinutes() + ":"
                + currentdate.getSeconds();
                console.log("현재시간: ",datetime);
                var arr = datetime.split("-");
                for(var i=0; i<vm.readreview.length; i++) {
                    var str = vm.readreview[i].timestamp.replace(' ', '-');
                    var readreview_datetime = str.split("-");
                    if( readreview_datetime[0] == arr[0] ) {
                        if( readreview_datetime[1] == arr[1] ) {
                            if( readreview_datetime[2] == arr[2] ) {
                                vm.readreview[i].timestamp = "오늘";
                            } else {
                                vm.readreview[i].timestamp = arr[2] - readreview_datetime[2] + "일 전";
                            }
                        } else {
                            vm.readreview[i].timestamp = arr[1] - readreview_datetime[1] + "달 전"
                        }
                    }
                }
            },
            refresh_all_timestamp: function() {
                var vm = this;
                var currentdate = new Date();
                var datetime = currentdate.getFullYear() + "-"
                + (currentdate.getMonth()+1)  + "-"
                + currentdate.getDate() + "-"
                + currentdate.getHours() + ":"
                + currentdate.getMinutes() + ":"
                + currentdate.getSeconds();
                console.log("현재시간: ",datetime);
                var arr = datetime.split("-");
                console.log("여기서 체크", vm.allreadreview);
                for(var i=0; i<vm.allreadreview.length; i++) {
                    var str = vm.allreadreview[i].timestamp.replace(' ', '-');
                    var readreview_datetime = str.split("-");
                    if( readreview_datetime[0] == arr[0] ) {
                        if( readreview_datetime[1] == arr[1] ) {
                            if( arr[2] == readreview_datetime[2] ) {
                                vm.allreadreview[i].timestamp = "오늘";
                            } else {
                                vm.allreadreview[i].timestamp = arr[2] - readreview_datetime[2] + "일 전";
                            }
                        } else {
                            vm.allreadreview[i].timestamp = arr[1] - readreview_datetime[1] + "달 전"
                        }
                    }
                }
                console.log("여기서 체크2", vm.allreadreview);
            },
            call_created: function() {
                var vm = this;   // 처음에 로딩바가 실행되고 N초 뒤에 MAIN으로 넘어감.
                axios.get('/checkCookie')
                    .then(function(res) {
                        console.log(res.data);
                        if(res.data._isfail == true) {
                        } else {
                            // alert(res.data.loginCookie);
                            var str = res.data.loginCookie.split("/");
                            console.log("checkCookie :", res.data);
                            vm.userid = str[str.length-1];
                            vm.username = str[str.length-2];
                            console.log("checkCookie_userid: ",vm.userid);
                        }
                    }).then(function(res) {
                        if(vm.userid != '') {
                            axios.get('/readuser', {
                                params: {
                                    id : vm.userid,
                                }
                            }).then(function(res) {
                                vm.userinfo = res.data[0];
                                console.log("userinfo: ",vm.userinfo);
                                rou.push({path:'/main'});
                            }).catch(function(err) {
                                console.log(err);
                            });
                        }

                    }).then(function(res) {
                        if(vm.userid != '') {
                             axios.get('/readFavorites', {
                                params: {
                                    appusers_id: vm.userid
                                }
                            }).then(function(res) {
                                console.log("readFavorites: ",res.data);
                                vm.readFavorites = res.data;
                            }).catch(function(err) {
                                console.log(err);
                            });
                        }
                    }).catch(function(err) {
                        console.log(err);
                    });


                axios.get('/readinfo')
                    .then(function(res) {
                        console.log("readinfo: ",res.data);
                        vm.readinfo = res.data;
                    }).catch(function(err) {
                        console.log(err);
                    }).then(function() {
                        try {
                            var info = sessionStorage.getItem("info");
                            var str = info.split(",");
                            vm.latest_item = str;
                            for(var i=0; i<vm.readinfo.length; i++) {
                                for(var j=0; j<vm.latest_item.length; j++) {
                                    if(vm.readinfo[i].id == vm.latest_item[j]) {
                                       vm.latest_item[j] = vm.readinfo[i].img;
                                   }
                                }
                            }
                            console.log("최근 본 상품: ",vm.latest_item);
                        }
                        catch(e) {
                            console.log(e);
                        }

                    });



                if(vm.username != '' ) {
                    this.$router.push({ path : "/main"});
                } else {
                    setTimeout(() => {
                        this.$router.push({ path : "/login"});    // mainComponent 를 출력한다.
                    }, 500);
                }
            }

        },
        mounted: function() {
            var vm = this;

            $('#app').css('overflow-x', 'hidden');
        },
        created: function() {
            var vm = this;   // 처음에 로딩바가 실행되고 N초 뒤에 MAIN으로 넘어감.
            axios.get('/checkCookie')
                .then(function(res) {
                    console.log(res.data);
                    if(res.data._isfail == true) {
                    } else {
                        var str = res.data.loginCookie.split("/");
                        console.log("checkCookie :", res.data);
                        vm.userid = str[str.length-1];
                        vm.username = str[str.length-2];
                        console.log("checkCookie_userid: ",vm.userid);
                    }
                }).then(function(res) {
                    if(vm.userid != '') {
                        axios.get('/readuser', {
                            params: {
                                id : vm.userid,
                            }
                        }).then(function(res) {
                            vm.userinfo = res.data[0];
                            console.log("userinfo: ",vm.userinfo);
                            $("#vue_alert_auto_login").css("display", "block");
                            $("#vue_alert_auto_login").addClass("bounceInRight");
                            setTimeout(() => {
                                $("#vue_alert_auto_login").css("display", "none");
                                $("#vue_alert_auto_login").removeClass("bounceInRight");
                            }, 3000);
                            //rou.push({path:'/main'});
                        }).catch(function(err) {
                            console.log(err);
                        });
                    }

                }).then(function(res) {
                    if(vm.userid != '') {
                         axios.get('/readFavorites', {
                            params: {
                                appusers_id: vm.userid
                            }
                        }).then(function(res) {
                            console.log("readFavorites: ",res.data);
                            vm.readFavorites = res.data;
                        }).catch(function(err) {
                            console.log(err);
                        });
                    }
                }).catch(function(err) {
                    console.log(err);
                });


            axios.get('/readinfo')
                .then(function(res) {
                    console.log("readinfo: ",res.data);
                    vm.readinfo = res.data;
                }).catch(function(err) {
                    console.log(err);
                }).then(function() {
                    try {
                        var info = sessionStorage.getItem("info");
                        var str = info.split(",");
                        vm.latest_item = str;
                        for(var i=0; i<vm.readinfo.length; i++) {
                            for(var j=0; j<vm.latest_item.length; j++) {
                                if(vm.readinfo[i].id == vm.latest_item[j]) {
                                   vm.latest_item[j] = vm.readinfo[i].img;
                               }
                            }
                        }
                        console.log("최근 본 상품: ",vm.latest_item);
                    }
                    catch(e) {
                        console.log(e);
                    }

                });

            $("#app").css("overflow-y", "hidden");
            console.log($("#loading").css);
            $("#loading").animate({
                scrollLeft: '420',
            }, 5000);
            if(vm.username != '' ) {
                setTimeout(() => {
                    this.$router.push({ path : "/main"});
                }, 3000);
            } else {
                setTimeout(() => {
                    this.$router.push({ path : "/login"});    // mainComponent 를 출력한다.
                }, 3000);
            }
        },
    });
</script>
</html>
